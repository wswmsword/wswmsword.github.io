import{c as T,d as b,r as $,ay as W,q as j,t as k,k as o,C as D,e as h,az as q,aA as X,g as Y,f as x,h as Q,aB as Z,n as ee,E as te,o as ne,aC as oe,a4 as ae,aD as le,z as H,y as se,F as ce,S as re,aE as O,at as ie,aF as ue,aG as de,ac as fe,al as me,aH as Be,aI as ge,J as he,a3 as Ce,M as A,N as ve,O as be,X as we,a2 as E,P as I,V as ye,aJ as _e,aj as pe,ai as ke}from"./index-D_R978jj.js";import{C as xe}from"./index-DJG9xZo8.js";import{C as Se}from"./index-Do6_xoE1.js";import{B as S}from"./index-Ii-rrj43.js";import{b as N}from"./route-block-B_A1xBdJ.js";import"./index-D7hx_8B8.js";const[K,F]=T("action-bar"),V=Symbol(K),Pe={placeholder:Boolean,safeAreaInsetBottom:k};var Te=b({name:K,props:Pe,setup(e,{slots:a}){const n=$(),l=W(n,F),{linkChildren:s}=j(V);s();const u=()=>{var d;return o("div",{ref:n,class:[F(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(d=a.default)==null?void 0:d.call(a)])};return()=>e.placeholder?l(u):u()}});const De=D(Te),[Oe,Ae]=T("action-bar-button"),Ee=h({},q,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ie=b({name:Oe,props:Ee,setup(e,{slots:a}){const n=X(),{parent:l,index:s}=Y(V),u=x(()=>{if(l){const c=l.children[s.value-1];return!(c&&"isButton"in c)}}),d=x(()=>{if(l){const c=l.children[s.value+1];return!(c&&"isButton"in c)}});return Q({isButton:!0}),()=>{const{type:c,icon:B,text:g,color:w,loading:y,disabled:_}=e;return o(S,{class:Ae([c,{last:d.value,first:u.value}]),size:"large",type:c,icon:B,color:w,loading:y,disabled:_,onClick:n},{default:()=>[a.default?a.default():g]})}}});const R=D(Ie),[Ne,i,v]=T("dialog"),Fe=h({},Z,{title:String,theme:String,width:ee,message:[String,Function],callback:Function,allowHtml:Boolean,className:te,transition:ne("van-dialog-bounce"),messageAlign:String,closeOnPopstate:k,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:k,closeOnClickOverlay:Boolean}),Re=[...oe,"transition","closeOnPopstate"];var z=b({name:Ne,props:Fe,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:a,slots:n}){const l=$(),s=ae({confirm:!1,cancel:!1}),u=t=>a("update:show",t),d=t=>{var r;u(!1),(r=e.callback)==null||r.call(e,t)},c=t=>()=>{e.show&&(a(t),e.beforeClose?(s[t]=!0,fe(e.beforeClose,{args:[t],done(){d(t),s[t]=!1},canceled(){s[t]=!1}})):d(t))},B=c("cancel"),g=c("confirm"),w=le(t=>{var r,f;if(t.target!==((f=(r=l.value)==null?void 0:r.popupRef)==null?void 0:f.value))return;({Enter:e.showConfirmButton?g:O,Escape:e.showCancelButton?B:O})[t.key](),a("keydown",t)},["enter","esc"]),y=()=>{const t=n.title?n.title():e.title;if(t)return o("div",{class:i("header",{isolated:!e.message&&!n.default})},[t])},_=t=>{const{message:r,allowHtml:f,messageAlign:m}=e,C=i("message",{"has-title":t,[m]:m}),p=ie(r)?r():r;return f&&typeof p=="string"?o("div",{class:C,innerHTML:p},null):o("div",{class:C},[p])},U=()=>{if(n.default)return o("div",{class:i("content")},[n.default()]);const{title:t,message:r,allowHtml:f}=e;if(r){const m=!!(t||n.title);return o("div",{key:f?1:0,class:i("content",{isolated:!m})},[_(m)])}},G=()=>o("div",{class:[de,i("footer")]},[e.showCancelButton&&o(S,{size:"large",text:e.cancelButtonText||v("cancel"),class:i("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o(S,{size:"large",text:e.confirmButtonText||v("confirm"),class:[i("confirm"),{[ue]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]),M=()=>o(De,{class:i("footer")},{default:()=>[e.showCancelButton&&o(R,{type:"warning",text:e.cancelButtonText||v("cancel"),class:i("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&o(R,{type:"danger",text:e.confirmButtonText||v("confirm"),class:i("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:g},null)]}),J=()=>n.footer?n.footer():e.theme==="round-button"?M():G();return()=>{const{width:t,title:r,theme:f,message:m,className:C}=e;return o(re,H({ref:l,role:"dialog",class:[i([f]),C],style:{width:ce(t)},tabindex:0,"aria-labelledby":r||m,onKeydown:w,"onUpdate:show":u},se(e,Re)),{default:()=>[y(),U(),J()]})}}});let P;const $e={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let He=h({},$e);function Ke(){({instance:P}=Be({setup(){const{state:a,toggle:n}=ge();return()=>o(z,H(a,{"onUpdate:show":n}),null)}}))}function Ve(e){return me?new Promise((a,n)=>{P||Ke(),P.open(h({},He,e,{callback:l=>{(l==="confirm"?a:n)(l)}}))}):Promise.resolve(void 0)}const ze=e=>Ve(h({showCancelButton:!0},e));D(z);const Le="3.3.0",Ue={class:"text-center"},Ge={class:"mt-10 text-gray"},L=b({__name:"index",setup(e){const{t:a}=he(),n=Ce(),l=x(()=>n.userInfo);function s(){ze({title:a("settings.comfirmTitle")}).then(()=>{n.logout(),pe.push({name:"home"})}).catch(()=>{})}return(u,d)=>{const c=Se,B=xe;return A(),ve("div",Ue,[o(B,{inset:!0},{default:be(()=>[I(l).uid?(A(),ye(c,{key:0,title:u.$t("settings.logout"),clickable:"",class:"van-text-color",onClick:s},null,8,["title"])):_e("",!0)]),_:1}),we("div",Ge,E(u.$t("settings.currentVersion"))+": v"+E(I(Le)),1)])}}});typeof N=="function"&&N(L);const Ye=ke(L,[["__scopeId","data-v-1a5a9110"]]);export{Ye as default};
