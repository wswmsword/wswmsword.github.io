System.register(["./inline-px-to-vw-legacy-DEL9uJHR.js","./index-legacy-BwiOHdn4.js","./index-legacy-91GcWPWz.js","./index-legacy-Bd118XHL.js","./route-block-legacy-wdPIt6g0.js","./use-id-legacy-DnNf4jDw.js","./toNumber-legacy-Dr0V64cZ.js","./index-legacy-Cs4WvbCy.js"],(function(e,r){"use strict";var l,s,a,o,d,i,t,n,m,u,c,g,p,f,w,y,v,h,k,x,V,b,P;return{setters:[e=>{l=e.F,s=e._,a=e.v,o=e.a},e=>{d=e.d,i=e.J,t=e.W,n=e.a3,m=e.r,u=e.a4,c=e.f,g=e.M,p=e.N,f=e.k,w=e.O,y=e.P,v=e.a5,h=e.a6,k=e.X,x=e.a1,V=e.a2},null,e=>{b=e.B},e=>{P=e.b},null,null,null],execute:function(){const r={class:"m-x-a w-7xl text-center"},j={class:"overflow-hidden rounded-3xl"},E={class:"mt-16 overflow-hidden rounded-3xl"},_={class:"mt-16 overflow-hidden rounded-3xl"},C={class:"mt-16 overflow-hidden rounded-3xl"},M={class:"mt-16 overflow-hidden rounded-3xl"},q={class:"mt-16"},S=e("default",d({__name:"index",setup(e){const{t:d}=i(),P=t(),S=n(),U=m(!1),N=u({email:"",code:"",nickname:"",password:"",confirmPassword:""}),$=u({email:[{required:!0,message:d("register.pleaseEnterEmail")}],code:[{required:!0,message:d("register.pleaseEnterCode")}],nickname:[{required:!0,message:d("register.pleaseEnterNickname")}],password:[{required:!0,message:d("register.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:d("register.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===N.password,message:d("register.passwordsDoNotMatch")}]});async function z(){try{U.value=!0,0===(await S.register()).code&&(h({type:"success",message:d("register.registerSuccess")}),P.push({name:"login"}))}finally{U.value=!1}}const B=m(!1),D=c((()=>B.value?d("register.gettingCode"):d("register.getCode")));async function F(){if(!N.email)return void h({type:"warning",message:d("register.pleaseEnterEmail")});B.value=!0;const e=await S.getCode();0===e.code&&h({type:"success",message:`${d("register.sendCodeSuccess")}: ${e.result}`}),B.value=!1}return(e,i)=>{const t=o,n=b,m=l,u=s;return g(),p("div",r,[f(m,{model:y(N),rules:y($),"validate-trigger":"onSubmit",onSubmit:z},{default:w((()=>[k("div",j,[f(t,{modelValue:y(N).email,"onUpdate:modelValue":i[0]||(i[0]=e=>y(N).email=e),modelModifiers:{trim:!0},rules:y($).email,name:"email",placeholder:y(d)("register.email")},null,8,["modelValue","rules","placeholder"])]),k("div",E,[f(t,{modelValue:y(N).code,"onUpdate:modelValue":i[1]||(i[1]=e=>y(N).code=e),modelModifiers:{trim:!0},rules:y($).code,name:"code",placeholder:y(d)("register.code")},{button:w((()=>[f(n,{size:"small",type:"primary",plain:"",onClick:F},{default:w((()=>[x(V(y(D)),1)])),_:1})])),_:1},8,["modelValue","rules","placeholder"])]),k("div",_,[f(t,{modelValue:y(N).nickname,"onUpdate:modelValue":i[2]||(i[2]=e=>y(N).nickname=e),modelModifiers:{trim:!0},rules:y($).nickname,name:"nickname",placeholder:y(d)("register.nickname")},null,8,["modelValue","rules","placeholder"])]),k("div",C,[f(t,{modelValue:y(N).password,"onUpdate:modelValue":i[3]||(i[3]=e=>y(N).password=e),modelModifiers:{trim:!0},type:"password",rules:y($).password,name:"password",placeholder:y(d)("register.password")},null,8,["modelValue","rules","placeholder"])]),k("div",M,[f(t,{modelValue:y(N).confirmPassword,"onUpdate:modelValue":i[4]||(i[4]=e=>y(N).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:y($).confirmPassword,name:"confirmPassword",placeholder:y(d)("register.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),k("div",q,[f(n,{loading:y(U),type:"primary","native-type":"submit",round:"",block:""},{default:w((()=>[x(V(e.$t("register.confirm")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"]),f(u,{to:"login",block:"",style:v({"margin-top":y(a)(8)})},{default:w((()=>[x(V(e.$t("register.backToLogin")),1)])),_:1},8,["style"])])}}}));"function"==typeof P&&P(S)}}}));
