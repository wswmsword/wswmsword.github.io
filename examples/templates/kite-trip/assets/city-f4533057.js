import{ai as nt,a1 as Fe,a2 as ke,$ as It,s as at,V as Tt,i as Rt,j as $t,o as lt,c as p,n as M,m as le,M as ce,d as Q,q as V,aj as je,U as Ae,b as L,ak as it,e as se,y as ot,k as Z,v as Ce,al as Te,D as Y,_ as ae,am as rt,an as Bt,a as c,w as oe,X as Me,E as qe,t as ie,ao as ct,F as At,ap as Lt,f as Re,z as W,aq as Vt,ar as $e,as as Xe,J as Et,at as Pt,au as Ot,r as st,h as ge,av as Ke,aw as Mt,ax as zt,G as ut,A as dt,C as ft,ay as Dt,az as Nt,ae as Ft,K as Ue,Q as Be,u as Ht,I as me,aA as be,aB as Wt,aC as jt,W as qt,aD as Kt,aE as Ut,aF as Ge,aG as Yt,aH as Zt,p as ye,aI as Xt,aJ as Gt,x as Jt,R as pt,aK as Qt,a4 as ht,a8 as vt,a5 as U,a6 as ne,aL as gt,a7 as He,H as fe,ad as xe,ab as en,af as We,a9 as tn,ac as Je}from"./index-416b8afd.js";import{u as mt}from"./city-613be302.js";import{a as ue,b as nn,u as an}from"./index-9f2d208f.js";import{S as ln,a as on}from"./index-05989b8e.js";function rn(e,n,l){let r,o=0;const a=e.scrollLeft,s=l===0?1:Math.round(l*1e3/16);let f=a;function i(){nt(r)}function m(){f+=(n-a)/s,e.scrollLeft=f,++o<s&&(r=Fe(m))}return m(),i}function cn(e,n,l,r){let o,a=ke(e);const s=a<n,f=l===0?1:Math.round(l*1e3/16),i=(n-a)/f;function m(){nt(o)}function d(){a+=i,(s&&a>n||!s&&a<n)&&(a=n),It(e,a),s&&a<n||!s&&a>n?o=Fe(d):r&&(o=Fe(r))}return d(),m}let sn=0;function Le(){const e=at(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++sn}`}function bt(e,n){if(!Tt||!window.IntersectionObserver)return;const l=new IntersectionObserver(a=>{n(a[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&l.observe(e.value)},o=()=>{e.value&&l.unobserve(e.value)};Rt(o),$t(o),lt(r)}const[un,dn]=p("sticky"),fn={zIndex:M,position:le("top"),container:Object,offsetTop:ce(0),offsetBottom:ce(0)};var hn=Q({name:un,props:fn,emits:["scroll","change"],setup(e,{emit:n,slots:l}){const r=V(),o=je(r),a=Ae({fixed:!1,width:0,height:0,transform:0}),s=V(!1),f=L(()=>it(e.position==="top"?e.offsetTop:e.offsetBottom)),i=L(()=>{if(s.value)return;const{fixed:g,height:S,width:b}=a;if(g)return{width:`${b}px`,height:`${S}px`}}),m=L(()=>{if(!a.fixed||s.value)return;const g=se(ot(e.zIndex),{width:`${a.width}px`,height:`${a.height}px`,[e.position]:`${f.value}px`});return a.transform&&(g.transform=`translate3d(0, ${a.transform}px, 0)`),g}),d=g=>n("scroll",{scrollTop:g,isFixed:a.fixed}),R=()=>{if(!r.value||Te(r))return;const{container:g,position:S}=e,b=ae(r),I=ke(window);if(a.width=b.width,a.height=b.height,S==="top")if(g){const y=ae(g),E=y.bottom-f.value-a.height;a.fixed=f.value>b.top&&y.bottom>0,a.transform=E<0?E:0}else a.fixed=f.value>b.top;else{const{clientHeight:y}=document.documentElement;if(g){const E=ae(g),C=y-E.top-f.value-a.height;a.fixed=y-f.value<b.bottom&&y>E.top,a.transform=C<0?-C:0}else a.fixed=y-f.value<b.bottom}d(I)};return Z(()=>a.fixed,g=>n("change",g)),Ce("scroll",R,{target:o,passive:!0}),bt(r,R),Z([rt,Bt],()=>{!r.value||Te(r)||!a.fixed||(s.value=!0,Y(()=>{const g=ae(r);a.width=g.width,a.height=g.height,s.value=!1}))}),()=>{var g;return c("div",{ref:r,style:i.value},[c("div",{class:dn({fixed:a.fixed&&!s.value}),style:m.value},[(g=l.default)==null?void 0:g.call(l)])])}}});const vn=oe(hn),[gn,pe]=p("tabs");var mn=Q({name:gn,props:{count:Me(Number),inited:Boolean,animated:Boolean,duration:Me(M),swipeable:Boolean,lazyRender:Boolean,currentIndex:Me(Number)},emits:["change"],setup(e,{emit:n,slots:l}){const r=V(),o=f=>n("change",f),a=()=>{var f;const i=(f=l.default)==null?void 0:f.call(l);return e.animated||e.swipeable?c(ln,{ref:r,loop:!1,class:pe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[i]}):i},s=f=>{const i=r.value;i&&i.state.active!==f&&i.swipeTo(f,{immediate:!e.inited})};return Z(()=>e.currentIndex,s),qe(()=>{s(e.currentIndex)}),ue({swipeRef:r}),()=>c("div",{class:pe("content",{animated:e.animated||e.swipeable})},[a()])}});const[yt,Ie]=p("tabs"),bn={type:le("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ce(0),duration:ce(.3),animated:Boolean,ellipsis:ie,swipeable:Boolean,scrollspy:Boolean,offsetTop:ce(0),background:String,lazyRender:ie,showHeader:ie,lineWidth:M,lineHeight:M,beforeChange:Function,swipeThreshold:ce(5),titleActiveColor:String,titleInactiveColor:String},xt=Symbol(yt);var yn=Q({name:yt,props:bn,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:l}){let r,o,a,s,f;const i=V(),m=V(),d=V(),R=V(),g=Le(),S=je(i),[b,I]=nn(),{children:y,linkChildren:E}=ct(xt),C=Ae({inited:!1,position:"",lineStyle:{},currentIndex:-1}),j=L(()=>y.length>+e.swipeThreshold||!e.ellipsis||e.shrink),N=L(()=>({borderColor:e.color,background:e.background})),x=(u,k)=>{var t;return(t=u.name)!=null?t:k},F=L(()=>{const u=y[C.currentIndex];if(u)return x(u,C.currentIndex)}),z=L(()=>it(e.offsetTop)),w=L(()=>e.sticky?z.value+r:0),T=u=>{const k=m.value,t=b.value;if(!j.value||!k||!t||!t[C.currentIndex])return;const h=t[C.currentIndex].$el,v=h.offsetLeft-(k.offsetWidth-h.offsetWidth)/2;s&&s(),s=rn(k,v,u?0:+e.duration)},$=()=>{const u=C.inited;Y(()=>{const k=b.value;if(!k||!k[C.currentIndex]||e.type!=="line"||Te(i.value))return;const t=k[C.currentIndex].$el,{lineWidth:h,lineHeight:v}=e,_=t.offsetLeft+t.offsetWidth/2,B={width:Re(h),backgroundColor:e.color,transform:`translateX(${_}px) translateX(-50%)`};if(u&&(B.transitionDuration=`${e.duration}s`),W(v)){const q=Re(v);B.height=q,B.borderRadius=q}C.lineStyle=B})},P=u=>{const k=u<C.currentIndex?-1:1;for(;u>=0&&u<y.length;){if(!y[u].disabled)return u;u+=k}},A=(u,k)=>{const t=P(u);if(!W(t))return;const h=y[t],v=x(h,t),_=C.currentIndex!==null;C.currentIndex!==t&&(C.currentIndex=t,k||T(),$()),v!==e.active&&(n("update:active",v),_&&n("change",v,h.title)),a&&!e.scrollspy&&$e(Math.ceil(Xe(i.value)-z.value))},O=(u,k)=>{const t=y.find((v,_)=>x(v,_)===u),h=t?y.indexOf(t):0;A(h,k)},X=(u=!1)=>{if(e.scrollspy){const k=y[C.currentIndex].$el;if(k&&S.value){const t=Xe(k,S.value)-w.value;o=!0,f&&f(),f=cn(S.value,t,u?0:+e.duration,()=>{o=!1})}}},D=(u,k,t)=>{const{title:h,disabled:v}=y[k],_=x(y[k],k);v||(Et(e.beforeChange,{args:[_],done:()=>{A(k),X()}}),Pt(u)),n("clickTab",{name:_,title:h,event:t,disabled:v})},H=u=>{a=u.isFixed,n("scroll",u)},he=u=>{Y(()=>{O(u),X(!0)})},G=()=>{for(let u=0;u<y.length;u++){const{top:k}=ae(y[u].$el);if(k>w.value)return u===0?0:u-1}return y.length-1},Ve=()=>{if(e.scrollspy&&!o){const u=G();A(u)}},Ee=()=>{if(e.type==="line"&&y.length)return c("div",{class:Ie("line"),style:C.lineStyle},null)},we=()=>{var u,k,t;const{type:h,border:v,sticky:_}=e,B=[c("div",{ref:_?void 0:d,class:[Ie("wrap"),{[Vt]:h==="line"&&v}]},[c("div",{ref:m,role:"tablist",class:Ie("nav",[h,{shrink:e.shrink,complete:j.value}]),style:N.value,"aria-orientation":"horizontal"},[(u=l["nav-left"])==null?void 0:u.call(l),y.map(q=>q.renderTitle(D)),Ee(),(k=l["nav-right"])==null?void 0:k.call(l)])]),(t=l["nav-bottom"])==null?void 0:t.call(l)];return _?c("div",{ref:d},[B]):B},_e=()=>{$(),Y(()=>{var u,k;T(!0),(k=(u=R.value)==null?void 0:u.swipeRef.value)==null||k.resize()})};Z(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],$),Z(rt,_e),Z(()=>e.active,u=>{u!==F.value&&O(u)}),Z(()=>y.length,()=>{C.inited&&(O(e.active),$(),Y(()=>{T(!0)}))});const Pe=()=>{O(e.active,!0),Y(()=>{C.inited=!0,d.value&&(r=ae(d.value).height),T(!0)})},Oe=(u,k)=>n("rendered",u,k);return ue({resize:_e,scrollTo:he}),At($),Lt($),lt(Pe),bt(i,$),Ce("scroll",Ve,{target:S,passive:!0}),E({id:g,props:e,setLine:$,scrollable:j,onRendered:Oe,currentName:F,setTitleRefs:I,scrollIntoView:T}),()=>c("div",{ref:i,class:Ie([e.type])},[e.showHeader?e.sticky?c(vn,{container:i.value,offsetTop:z.value,onScroll:H},{default:()=>[we()]}):we():null,c(mn,{ref:R,count:y.length,inited:C.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:C.currentIndex,onChange:A},{default:()=>{var u;return[(u=l.default)==null?void 0:u.call(l)]}})])}});const xn=Symbol(),[kn,Qe]=p("tab"),Cn=Q({name:kn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:M,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ie},setup(e,{slots:n}){const l=L(()=>{const o={},{type:a,color:s,disabled:f,isActive:i,activeColor:m,inactiveColor:d}=e;s&&a==="card"&&(o.borderColor=s,f||(i?o.backgroundColor=s:o.color=s));const g=i?m:d;return g&&(o.color=g),o}),r=()=>{const o=c("span",{class:Qe("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||W(e.badge)&&e.badge!==""?c(Ot,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>c("div",{id:e.id,role:"tab",class:[Qe([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:l.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[r()])}}),[wn,ze]=p("tab"),_n=se({},st,{dot:Boolean,name:M,badge:M,title:String,disabled:Boolean,titleClass:ge,titleStyle:[String,Object],showZeroBadge:ie});var Sn=Q({name:wn,props:_n,setup(e,{slots:n}){const l=Le(),r=V(!1),o=at(),{parent:a,index:s}=Ke(xt);if(!a)return;const f=()=>{var b;return(b=e.name)!=null?b:s.value},i=()=>{r.value=!0,a.props.lazyRender&&Y(()=>{a.onRendered(f(),e.title)})},m=L(()=>{const b=f()===a.currentName.value;return b&&!r.value&&i(),b}),d=V(""),R=V("");Mt(()=>{const{titleClass:b,titleStyle:I}=e;d.value=b?Dt(b):"",R.value=I&&typeof I!="string"?Nt(Ft(I)):I});const g=b=>c(Cn,Ue({key:l,id:`${a.id}-${s.value}`,ref:a.setTitleRefs(s.value),style:R.value,class:d.value,isActive:m.value,controls:l,scrollable:a.scrollable.value,activeColor:a.props.titleActiveColor,inactiveColor:a.props.titleInactiveColor,onClick:I=>b(o.proxy,s.value,I)},Be(a.props,["type","color","shrink"]),Be(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),S=V(!m.value);return Z(m,b=>{b?S.value=!1:zt(()=>{S.value=!0})}),Z(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ut(xn,m),ue({id:l,renderTitle:g}),()=>{var b;const I=`${a.id}-${s.value}`,{animated:y,swipeable:E,scrollspy:C,lazyRender:j}=a.props;if(!n.default&&!y)return;const N=C||m.value;if(y||E)return c(on,{id:l,role:"tabpanel",class:ze("panel-wrapper",{inactive:S.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":I,"data-allow-mismatch":"attribute"},{default:()=>{var z;return[c("div",{class:ze("panel")},[(z=n.default)==null?void 0:z.call(n)])]}});const F=r.value||C||!j?(b=n.default)==null?void 0:b.call(n):null;return dt(c("div",{id:l,role:"tabpanel",class:ze("panel"),tabindex:N?0:-1,"aria-labelledby":I,"data-allow-mismatch":"attribute"},[F]),[[ft,N]])}}});const In=oe(Sn),Tn=oe(yn),[Rn,de]=p("cell"),kt={tag:le("div"),icon:String,size:String,title:M,value:M,label:M,center:Boolean,isLink:Boolean,border:ie,iconPrefix:String,valueClass:ge,labelClass:ge,titleClass:ge,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},$n=se({},kt,st);var Bn=Q({name:Rn,props:$n,setup(e,{slots:n}){const l=Ht(),r=()=>{if(n.label||W(e.label))return c("div",{class:[de("label"),e.labelClass]},[n.label?n.label():e.label])},o=()=>{var i;if(n.title||W(e.title)){const m=(i=n.title)==null?void 0:i.call(n);return Array.isArray(m)&&m.length===0?void 0:c("div",{class:[de("title"),e.titleClass],style:e.titleStyle},[m||c("span",null,[e.title]),r()])}},a=()=>{const i=n.value||n.default;if(i||W(e.value))return c("div",{class:[de("value"),e.valueClass]},[i?i():c("span",null,[e.value])])},s=()=>{if(n.icon)return n.icon();if(e.icon)return c(me,{name:e.icon,class:de("left-icon"),classPrefix:e.iconPrefix},null)},f=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const i=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return c(me,{name:i,class:de("right-icon")},null)}};return()=>{var i;const{tag:m,size:d,center:R,border:g,isLink:S,required:b}=e,I=(i=e.clickable)!=null?i:S,y={center:R,required:!!b,clickable:I,borderless:!g};return d&&(y[d]=!!d),c(m,{class:de(y),role:I?"button":void 0,tabindex:I?0:void 0,onClick:l},{default:()=>{var E;return[s(),o(),a(),f(),(E=n.extra)==null?void 0:E.call(n)]}})}}});const Ct=oe(Bn);function wt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function An(e,n){if(wt(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Ln(e,n){return new Promise(l=>{const r=n.validator(e,n);if(Wt(r)){r.then(l);return}l(r)})}function et(e,n){const{message:l}=n;return jt(l)?l(e,n):l||""}function Vn({target:e}){e.composing=!0}function tt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function En(e,n){const l=be();e.style.height="auto";let r=e.scrollHeight;if(qt(n)){const{maxHeight:o,minHeight:a}=n;o!==void 0&&(r=Math.min(r,o)),a!==void 0&&(r=Math.max(r,a))}r&&(e.style.height=`${r}px`,$e(l))}function Pn(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function te(e){return[...e].length}function De(e,n){return[...e].slice(0,n).join("")}const[On,K]=p("field"),Ye={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:M,max:Number,min:Number,formatter:Function,clearIcon:le("clear"),modelValue:ce(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:le("focus"),formatTrigger:le("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},Mn=se({},kt,Ye,{rows:M,type:le("text"),rules:Array,autosize:[Boolean,Object],labelWidth:M,labelClass:ge,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var zn=Q({name:On,props:Mn,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l}){const r=Le(),o=Ae({status:"unvalidated",focused:!1,validateMessage:""}),a=V(),s=V(),f=V(),{parent:i}=Ke(Kt),m=()=>{var t;return String((t=e.modelValue)!=null?t:"")},d=t=>{if(W(e[t]))return e[t];if(i&&W(i.props[t]))return i.props[t]},R=L(()=>{const t=d("readonly");if(e.clearable&&!t){const h=m()!=="",v=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return h&&v}return!1}),g=L(()=>f.value&&l.input?f.value():e.modelValue),S=L(()=>{var t;const h=d("required");return h==="auto"?(t=e.rules)==null?void 0:t.some(v=>v.required):h}),b=t=>t.reduce((h,v)=>h.then(()=>{if(o.status==="failed")return;let{value:_}=g;if(v.formatter&&(_=v.formatter(_,v)),!An(_,v)){o.status="failed",o.validateMessage=et(_,v);return}if(v.validator)return wt(_)&&v.validateEmpty===!1?void 0:Ln(_,v).then(B=>{B&&typeof B=="string"?(o.status="failed",o.validateMessage=B):B===!1&&(o.status="failed",o.validateMessage=et(_,v))})}),Promise.resolve()),I=()=>{o.status="unvalidated",o.validateMessage=""},y=()=>n("endValidate",{status:o.status,message:o.validateMessage}),E=(t=e.rules)=>new Promise(h=>{I(),t?(n("startValidate"),b(t).then(()=>{o.status==="failed"?(h({name:e.name,message:o.validateMessage}),y()):(o.status="passed",h(),y())})):h()}),C=t=>{if(i&&e.rules){const{validateTrigger:h}=i.props,v=Ge(h).includes(t),_=e.rules.filter(B=>B.trigger?Ge(B.trigger).includes(t):v);_.length&&E(_)}},j=t=>{var h;const{maxlength:v}=e;if(W(v)&&te(t)>+v){const _=m();if(_&&te(_)===+v)return _;const B=(h=a.value)==null?void 0:h.selectionEnd;if(o.focused&&B){const q=[...t],re=q.length-+v;return q.splice(B-re,re),q.join("")}return De(t,+v)}return t},N=(t,h="onChange")=>{var v,_;const B=t;t=j(t);const q=te(B)-te(t);if(e.type==="number"||e.type==="digit"){const J=e.type==="number";t=Yt(t,J,J),h==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)&&(t=Zt(+t,(v=e.min)!=null?v:-1/0,(_=e.max)!=null?_:1/0).toString())}let re=0;if(e.formatter&&h===e.formatTrigger){const{formatter:J,maxlength:ee}=e;if(t=J(t),W(ee)&&te(t)>+ee&&(t=De(t,+ee)),a.value&&o.focused){const{selectionEnd:Se}=a.value,Ze=De(B,Se);re=te(J(Ze))-te(Ze)}}if(a.value&&a.value.value!==t)if(o.focused){let{selectionStart:J,selectionEnd:ee}=a.value;if(a.value.value=t,W(J)&&W(ee)){const Se=te(t);q?(J-=q,ee-=q):re&&(J+=re,ee+=re),a.value.setSelectionRange(Math.min(J,Se),Math.min(ee,Se))}}else a.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},x=t=>{t.target.composing||N(t.target.value)},F=()=>{var t;return(t=a.value)==null?void 0:t.blur()},z=()=>{var t;return(t=a.value)==null?void 0:t.focus()},w=()=>{const t=a.value;e.type==="textarea"&&e.autosize&&t&&En(t,e.autosize)},T=t=>{o.focused=!0,n("focus",t),Y(w),d("readonly")&&F()},$=t=>{o.focused=!1,N(m(),"onBlur"),n("blur",t),!d("readonly")&&(C("onBlur"),Y(w),Gt())},P=t=>n("clickInput",t),A=t=>n("clickLeftIcon",t),O=t=>n("clickRightIcon",t),X=t=>{ye(t),n("update:modelValue",""),n("clear",t)},D=L(()=>{if(typeof e.error=="boolean")return e.error;if(i&&i.props.showError&&o.status==="failed")return!0}),H=L(()=>{const t=d("labelWidth"),h=d("labelAlign");if(t&&h!=="top")return{width:Re(t)}}),he=t=>{t.keyCode===13&&(!(i&&i.props.submitOnEnter)&&e.type!=="textarea"&&ye(t),e.type==="search"&&F()),n("keypress",t)},G=()=>e.id||`${r}-input`,Ve=()=>o.status,Ee=()=>{const t=K("control",[d("inputAlign"),{error:D.value,custom:!!l.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(l.input)return c("div",{class:t,onClick:P},[l.input()]);const h={id:G(),ref:a,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:d("disabled"),readonly:d("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:$,onFocus:T,onInput:x,onClick:P,onChange:tt,onKeypress:he,onCompositionend:tt,onCompositionstart:Vn};return e.type==="textarea"?c("textarea",h,null):c("input",Ue(Pn(e.type),h),null)},we=()=>{const t=l["left-icon"];if(e.leftIcon||t)return c("div",{class:K("left-icon"),onClick:A},[t?t():c(me,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},_e=()=>{const t=l["right-icon"];if(e.rightIcon||t)return c("div",{class:K("right-icon"),onClick:O},[t?t():c(me,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Pe=()=>{if(e.showWordLimit&&e.maxlength){const t=te(m());return c("div",{class:K("word-limit")},[c("span",{class:K("word-num")},[t]),Xt("/"),e.maxlength])}},Oe=()=>{if(i&&i.props.showErrorMessage===!1)return;const t=e.errorMessage||o.validateMessage;if(t){const h=l["error-message"],v=d("errorMessageAlign");return c("div",{class:K("error-message",v)},[h?h({message:t}):t])}},u=()=>{const t=d("labelWidth"),h=d("labelAlign"),v=d("colon")?":":"";if(l.label)return[l.label(),v];if(e.label)return c("label",{id:`${r}-label`,for:l.input?void 0:G(),"data-allow-mismatch":"attribute",onClick:_=>{ye(_),z()},style:h==="top"&&t?{width:Re(t)}:void 0},[e.label+v])},k=()=>[c("div",{class:K("body")},[Ee(),R.value&&c(me,{ref:s,name:e.clearIcon,class:K("clear")},null),_e(),l.button&&c("div",{class:K("button")},[l.button()])]),Pe(),Oe()];return ue({blur:F,focus:z,validate:E,formValue:g,resetValidation:I,getValidationStatus:Ve}),ut(Ut,{customValue:f,resetValidation:I,validateWithTrigger:C}),Z(()=>e.modelValue,()=>{N(m()),I(),C("onChange"),Y(w)}),qe(()=>{N(m(),e.formatTrigger),Y(w)}),Ce("touchstart",X,{target:L(()=>{var t;return(t=s.value)==null?void 0:t.$el})}),()=>{const t=d("disabled"),h=d("labelAlign"),v=we(),_=()=>{const B=u();return h==="top"?[v,B].filter(Boolean):B||[]};return c(Ct,{size:e.size,class:K({error:D.value,disabled:t,[`label-${h}`]:h}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:H.value,valueClass:K("value"),titleClass:[K("label",[h,{required:S.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:v&&h!=="top"?()=>v:null,title:_,value:k,extra:l.extra})}}});const Dn=oe(zn);function Nn(){const e="A".charCodeAt(0);return Array(26).fill("").map((l,r)=>String.fromCharCode(e+r))}const[_t,Ne]=p("index-bar"),Fn={sticky:ie,zIndex:M,teleport:[String,Object],highlightColor:String,stickyOffsetTop:pt(0),indexList:{type:Array,default:Nn}},St=Symbol(_t);var Hn=Q({name:_t,props:Fn,emits:["select","change"],setup(e,{emit:n,slots:l}){const r=V(),o=V(),a=V(""),s=an(),f=je(r),{children:i,linkChildren:m}=ct(St);let d;m({props:e});const R=L(()=>{if(W(e.zIndex))return{zIndex:+e.zIndex+1}}),g=L(()=>{if(e.highlightColor)return{color:e.highlightColor}}),S=(w,T)=>{for(let $=i.length-1;$>=0;$--){const P=$>0?T[$-1].height:0,A=e.sticky?P+e.stickyOffsetTop:0;if(w+A>=T[$].top)return $}return-1},b=w=>i.find(T=>String(T.index)===w),I=()=>{if(Te(r))return;const{sticky:w,indexList:T}=e,$=ke(f.value),P=ae(f),A=i.map(X=>X.getRect(f.value,P));let O=-1;if(d){const X=b(d);if(X){const D=X.getRect(f.value,P);e.sticky&&e.stickyOffsetTop?O=S(D.top-e.stickyOffsetTop,A):O=S(D.top,A)}}else O=S($,A);a.value=T[O],w&&i.forEach((X,D)=>{const{state:H,$el:he}=X;if(D===O||D===O-1){const G=he.getBoundingClientRect();H.left=G.left,H.width=G.width}else H.left=null,H.width=null;if(D===O)H.active=!0,H.top=Math.max(e.stickyOffsetTop,A[D].top-$)+P.top;else if(D===O-1&&d===""){const G=A[O].top-$;H.active=G>0,H.top=G+P.top-A[D].height}else H.active=!1}),d=""},y=()=>{Y(I)};Ce("scroll",I,{target:f,passive:!0}),qe(y),Z(()=>e.indexList,y),Z(a,w=>{w&&n("change",w)});const E=()=>e.indexList.map(w=>{const T=w===a.value;return c("span",{class:Ne("index",{active:T}),style:T?g.value:void 0,"data-index":w},[w])}),C=w=>{d=String(w);const T=b(d);if(T){const $=ke(f.value),P=ae(f),{offsetHeight:A}=document.documentElement;if(T.$el.scrollIntoView(),$===A-P.height){I();return}e.sticky&&e.stickyOffsetTop&&(be()===A-P.height?$e(be()):$e(be()-e.stickyOffsetTop)),n("select",T.index)}},j=w=>{const{index:T}=w.dataset;T&&C(T)},N=w=>{j(w.target)};let x;const F=w=>{if(s.move(w),s.isVertical()){ye(w);const{clientX:T,clientY:$}=w.touches[0],P=document.elementFromPoint(T,$);if(P){const{index:A}=P.dataset;A&&x!==A&&(x=A,j(P))}}},z=()=>c("div",{ref:o,class:Ne("sidebar"),style:R.value,onClick:N,onTouchstartPassive:s.start},[E()]);return ue({scrollTo:C}),Ce("touchmove",F,{target:o}),()=>{var w;return c("div",{ref:r,class:Ne()},[e.teleport?c(Jt,{to:e.teleport},{default:()=>[z()]}):z(),(w=l.default)==null?void 0:w.call(l)])}}});const[Wn,jn]=p("index-anchor"),qn={index:M};var Kn=Q({name:Wn,props:qn,setup(e,{slots:n}){const l=Ae({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=V(),{parent:o}=Ke(St);if(!o)return;const a=()=>l.active&&o.props.sticky,s=L(()=>{const{zIndex:i,highlightColor:m}=o.props;if(a())return se(ot(i),{left:l.left?`${l.left}px`:void 0,width:l.width?`${l.width}px`:void 0,transform:l.top?`translate3d(0, ${l.top}px, 0)`:void 0,color:m})});return ue({state:l,getRect:(i,m)=>{const d=ae(r);return l.rect.height=d.height,i===window||i===document.body?l.rect.top=d.top+be():l.rect.top=d.top+ke(i)-m.top,l.rect}}),()=>{const i=a();return c("div",{ref:r,style:{height:i?`${l.rect.height}px`:void 0}},[c("div",{style:s.value,class:[jn({sticky:i}),{[Qt]:i}]},[n.default?n.default():e.index])])}}});const Un=oe(Kn),Yn=oe(Hn),[Zn,ve,Xn]=p("search"),Gn=se({},Ye,{label:String,shape:le("square"),leftIcon:le("search"),clearable:ie,actionText:String,background:String,showAction:Boolean});var Jn=Q({name:Zn,props:Gn,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l,attrs:r}){const o=Le(),a=V(),s=()=>{l.action||(n("update:modelValue",""),n("cancel"))},f=x=>{x.keyCode===13&&(ye(x),n("search",e.modelValue))},i=()=>e.id||`${o}-input`,m=()=>{if(l.label||e.label)return c("label",{class:ve("label"),for:i(),"data-allow-mismatch":"attribute"},[l.label?l.label():e.label])},d=()=>{if(e.showAction){const x=e.actionText||Xn("cancel");return c("div",{class:ve("action"),role:"button",tabindex:0,onClick:s},[l.action?l.action():x])}},R=()=>{var x;return(x=a.value)==null?void 0:x.blur()},g=()=>{var x;return(x=a.value)==null?void 0:x.focus()},S=x=>n("blur",x),b=x=>n("focus",x),I=x=>n("clear",x),y=x=>n("clickInput",x),E=x=>n("clickLeftIcon",x),C=x=>n("clickRightIcon",x),j=Object.keys(Ye),N=()=>{const x=se({},r,Be(e,j),{id:i()}),F=z=>n("update:modelValue",z);return c(Dn,Ue({ref:a,type:"search",class:ve("field",{"with-message":x.errorMessage}),border:!1,onBlur:S,onFocus:b,onClear:I,onKeypress:f,onClickInput:y,onClickLeftIcon:E,onClickRightIcon:C,"onUpdate:modelValue":F},x),Be(l,["left-icon","right-icon"]))};return ue({focus:g,blur:R}),()=>{var x;return c("div",{class:ve({"show-action":e.showAction}),style:{background:e.background}},[(x=l.left)==null?void 0:x.call(l),c("div",{class:ve("content",e.shape)},[m(),N()]),d()])}}});const pn=oe(Jn);const Qn={class:"city-group"},ea={class:"list"},ta=["onClick"],na={__name:"city-group",props:{groupData:{type:Object,default:()=>({})}},setup(e){const n=e,l=L(()=>{const s=n.groupData.cities.map(f=>f.group);return s.unshift("#"),s}),r=vt(),o=mt(),a=s=>{o.currentCity=s,r.back()};return(s,f)=>{const i=Un,m=Ct,d=Yn;return U(),ne("div",Qn,[c(d,{"highlight-color":"#ff9854",indexList:l.value},{default:gt(()=>[c(i,{index:"热门"}),He("div",ea,[(U(!0),ne(fe,null,xe(e.groupData.hotCities,(R,g)=>(U(),ne("div",{key:g,class:"city",onClick:S=>a(R)},en(R.cityName),9,ta))),128))]),(U(!0),ne(fe,null,xe(e.groupData.cities,(R,g)=>(U(),ne(fe,{key:g},[c(i,{index:R.group},null,8,["index"]),(U(!0),ne(fe,null,xe(R.cities,(S,b)=>(U(),We(m,{key:b,title:S.cityName,onClick:I=>a(S)},null,8,["title","onClick"]))),128))],64))),128))]),_:1},8,["indexList"])])}}},aa=ht(na,[["__scopeId","data-v-8141f8e6"]]);const la={class:"city top-page"},ia={class:"top"},oa={class:"content"},ra={__name:"city",setup(e){const n=vt(),l=V(""),r=()=>{n.back()},o=V(),a=mt();a.fetchAllCitiesData();const{allCities:s}=tn(a);return L(()=>s.value[o.value]),(f,i)=>{const m=pn,d=In,R=Tn;return U(),ne("div",la,[He("div",ia,[c(m,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=g=>l.value=g),placeholder:"城市/区域/位置",shape:"round","show-action":"",onCancel:r},null,8,["modelValue"]),c(R,{active:o.value,"onUpdate:active":i[1]||(i[1]=g=>o.value=g),color:"#ff9854"},{default:gt(()=>[(U(!0),ne(fe,null,xe(Je(s),(g,S,b)=>(U(),We(d,{key:b,title:g.title,name:S},null,8,["title","name"]))),128))]),_:1},8,["active"])]),He("div",oa,[(U(!0),ne(fe,null,xe(Je(s),(g,S,b)=>dt((U(),We(aa,{key:b,groupData:g},null,8,["groupData"])),[[ft,o.value===S]])),128))])])}}},fa=ht(ra,[["__scopeId","data-v-99086b6f"]]);export{fa as default};
