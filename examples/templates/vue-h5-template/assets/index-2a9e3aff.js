/* empty css              */import{d as e}from"./data-0b863339.js";import{r as t,j as a,e as l,V as i,W as o,M as n,w as u,h as s,o as r,c,b as v,g as d,n as h,a as p,F as f,C as g,p as m,J as y,L as w,X as T,d as b,z as x,l as P,m as N,u as $,E as S,t as X,_ as E}from"./index-fa2863a3.js";import{_ as M,c as V}from"./plugin-vueexport-helper-1tPrXgE0-30a3ae01.js";import{c as Y}from"./util-DnfK0Qan-47c5a235.js";const z=window;const k=void 0!==z?z.requestAnimationFrame||z.webkitRequestAnimationFrame||function(e){z.setTimeout(e,1e3/60)}:function(e){setTimeout(e,1e3/60)},_=10;function j(){const e=t(0),a=t(0),l=t(0),i=t(0),o=t(0),n=t(0),u=t(0),s=t(0),r=t(""),c=()=>{o.value=0,n.value=0,u.value=0,s.value=0,r.value=""};return{move:t=>{const c=t.touches[0];var v,d;o.value=c.clientX-e.value,n.value=c.clientY-a.value,l.value=c.clientX,i.value=c.clientY,u.value=Math.abs(o.value),s.value=Math.abs(n.value),r.value||(r.value=(v=u.value,d=s.value,v>d&&v>_?"horizontal":d>v&&d>_?"vertical":""))},start:t=>{c(),e.value=t.touches[0].clientX,a.value=t.touches[0].clientY},reset:c,startX:e,startY:a,moveX:l,moveY:i,deltaX:o,deltaY:n,offsetX:u,offsetY:s,direction:r,isVertical:()=>"vertical"===r.value,isHorizontal:()=>"horizontal"===r.value}}const C=Symbol("nut-swiper"),{create:D,componentName:B}=V("swiper");const A=M(D({props:{width:{type:[Number,String]},height:{type:[Number,String]},direction:{type:String,default:"horizontal"},paginationVisible:{type:Boolean,default:!1},paginationColor:{type:String,default:"#fff"},loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},autoPlay:{type:[Number,String],default:0},initPage:{type:[Number,String],default:0},touchable:{type:Boolean,default:!0},isPreventDefault:{type:Boolean,default:!0},isStopPropagation:{type:Boolean,default:!0},paginationUnselectedColor:{type:String,default:"#ddd"}},emits:["change"],setup(e,{emit:r,slots:c,expose:v}){const d=t(),h=a({active:0,num:0,rect:null,width:0,height:0,moving:!1,offset:0,touchTime:0,autoplayTimer:null,children:[],childrenVNode:[],style:{}}),p=j(),f=l((()=>"vertical"===e.direction)),g=l((()=>{const e=B;return{[`${e}-inner`]:!0,[`${e}-vertical`]:f.value}})),m=l((()=>{const e=B;return{[`${e}-pagination`]:!0,[`${e}-pagination-vertical`]:f.value}})),y=l((()=>f.value?p.deltaY.value:p.deltaX.value)),w=l((()=>p.direction.value===e.direction)),T=l((()=>h.children.length)),b=l((()=>h[f.value?"height":"width"])),x=l((()=>T.value*b.value)),P=l((()=>{if(h.rect){return(f.value?h.rect.height:h.rect.width)-b.value*T.value}return 0})),N=l((()=>(h.active+T.value)%T.value)),$=()=>{let t=0;t=h.offset,h.style={transitionDuration:`${h.moving?0:e.duration}ms`,transform:`translate${f.value?"Y":"X"}(${t}px)`,[f.value?"height":"width"]:b.value*T.value+"px",[f.value?"width":"height"]:`${f.value?h.width:h.height}px`}},S=(t,a=0)=>{let l=t*b.value;e.loop||(l=Math.min(l,-P.value));let i=a-l;return e.loop||(i=Y(i,P.value,0)),i},X=({pace:t=0,offset:a=0,isEmit:l=!1})=>{if(T.value<=1)return;const{active:i}=h,o=(t=>{const{active:a}=h;return t?e.loop?Y(a+t,-1,T.value):Y(a+t,0,T.value-1):a})(t),n=S(o,a);if(e.loop){if(h.children[0]&&n!==P.value){const e=n<P.value;h.children[0].setOffset(e?x.value:0)}if(h.children[T.value-1]&&0!==n){const e=n>0;h.children[T.value-1].setOffset(e?-x.value:0)}}h.active=o,h.offset=n,l&&i!==h.active&&r("change",N.value),$()},E=()=>{h.moving=!0,h.active<=-1&&X({pace:T.value}),h.active>=T.value&&X({pace:-T.value})},M=()=>{h.autoplayTimer&&clearTimeout(h.autoplayTimer)},V=e=>{E(),p.reset(),k((()=>{k((()=>{h.moving=!1,X({pace:e,isEmit:!0})}))}))},z=()=>{V(1)},_=()=>{+e.autoPlay<=0||T.value<=1||(M(),h.autoplayTimer=setTimeout((()=>{z(),_()}),Number(e.autoPlay)))},D=(t=+e.initPage)=>{M(),h.rect=d.value.getBoundingClientRect(),t=Math.min(T.value-1,t),h.width=e.width?+e.width:h.rect.width,h.height=e.height?+e.height:h.rect.height,h.active=t,h.offset=S(h.active),h.moving=!0,$(),_()};return i(C,{props:e,size:b,relation:e=>{var t;let a=[];const l=h.childrenVNode.length;let i=null==(t=null==c?void 0:c.default)?void 0:t.call(c);if(i=i.filter((e=>e.children&&Array.isArray(e.children))),i.forEach((e=>{a=a.concat(e.children)})),l)if(l>a.length)h.children=h.children.filter((t=>e.proxy!==t));else if(l<a.length){for(let t=0;t<l;t++)if(a[t].key!==h.childrenVNode[t].key){e.proxy&&h.children.splice(t,0,e.proxy),e.vnode&&h.childrenVNode.splice(t,0,e.vnode);break}l!==a.length&&(e.proxy&&h.children.push(e.proxy),e.vnode&&h.childrenVNode.push(e.vnode))}else h.childrenVNode=a.slice(),e.proxy&&h.children.push(e.proxy);else h.childrenVNode=a.slice(),e.proxy&&h.children.push(e.proxy)}}),v({prev:()=>{V(-1)},next:z,to:t=>{E(),p.reset(),k((()=>{let a;h.moving=!1,a=e.loop&&T.value===t?0===h.active?0:t:t%T.value,X({pace:a-h.active,isEmit:!0})}))}}),o((()=>{M()})),n((()=>{M()})),u((()=>e.initPage),(e=>{s((()=>{D(Number(e))}))})),u((()=>e.height),(()=>{s((()=>{D()}))})),u((()=>h.children.length),(()=>{s((()=>{D()}))})),u((()=>e.autoPlay),(e=>{+e>0?_():M()})),{state:h,classesInner:g,classesPagination:m,container:d,activePagination:N,onTouchStart:t=>{e.isPreventDefault&&t.preventDefault(),e.isStopPropagation&&t.stopPropagation(),e.touchable&&(p.start(t),h.touchTime=Date.now(),M(),E())},onTouchMove:t=>{e.touchable&&h.moving&&(p.move(t),w.value&&X({offset:y.value}))},onTouchEnd:()=>{if(!e.touchable||!h.moving)return;const t=y.value/(Date.now()-h.touchTime);if((Math.abs(t)>.3||Math.abs(y.value)>+(b.value/2).toFixed(2))&&w.value){let t=0;const a=f.value?p.offsetY.value:p.offsetX.value;t=e.loop?a>0?y.value>0?-1:1:0:-Math[y.value>0?"ceil":"floor"](y.value/b.value),X({pace:t,isEmit:!0})}else y.value&&X({pace:0});h.moving=!1,$(),_()}}}}),[["render",function(e,t,a,l,i,o){return r(),c("view",{ref:"container",class:"nut-swiper",onTouchstart:t[0]||(t[0]=(...t)=>e.onTouchStart&&e.onTouchStart(...t)),onTouchmove:t[1]||(t[1]=(...t)=>e.onTouchMove&&e.onTouchMove(...t)),onTouchend:t[2]||(t[2]=(...t)=>e.onTouchEnd&&e.onTouchEnd(...t)),onTouchcancel:t[3]||(t[3]=(...t)=>e.onTouchEnd&&e.onTouchEnd(...t))},[v("view",{class:h(e.classesInner),style:p(e.state.style)},[d(e.$slots,"default")],6),d(e.$slots,"page"),e.paginationVisible&&!e.$slots.page?(r(),c("view",{key:0,class:h(e.classesPagination)},[(r(!0),c(f,null,g(e.state.children.length,((t,a)=>(r(),c("i",{key:a,style:p({backgroundColor:e.activePagination===a?e.paginationColor:e.paginationUnselectedColor}),class:h({active:e.activePagination===a})},null,6)))),128))],2)):m("",!0)],544)}]]);const{create:F}=V("swiper-item");const I=M(F({setup(){const e=y(C);e.relation(w());const t=a({offset:0}),i=l((()=>{const a={},l=null==e?void 0:e.props.direction;return(null==e?void 0:e.size.value)&&(a["horizontal"===l?"width":"height"]=`${null==e?void 0:e.size.value}px`),t.offset&&(a.transform=`translate${"horizontal"===l?"X":"Y"}(${t.offset}px)`),a}));return T((()=>{e.relation(w(),"unmount")})),function(e){const t=w();t&&Object.assign(t.proxy,e)}({setOffset:e=>{t.offset=e}}),{style:i}}}),[["render",function(e,t,a,l,i,o){return r(),c("view",{class:"nut-swiper-item",style:p(e.style)},[d(e.$slots,"default")],4)}]]),O=["src"],q={class:"info"},R={class:"price"},U=E(b({__name:"index",setup(l){const i=x(),o=t(1);let n=a({data:{}});return u((()=>i),(t=>{n.data=e.find(((e,a)=>a==parseInt(t.currentRoute.value.query.id)))}),{deep:!0,immediate:!0}),(e,t)=>{var a,l;const i=I,u=A;return r(),c(f,null,[P(u,{"init-page":$(o),"pagination-visible":!0,"pagination-color":"#426543","auto-play":"3000"},{default:N((()=>[P(i,null,{default:N((()=>[v("img",{src:$(n).data.imgUrl},null,8,O)])),_:1})])),_:1},8,["init-page"]),v("section",q,[v("div",null,[v("span",R,[S(" ï¿¥"),v("em",null,X(null==(a=$(n).data)?void 0:a.price)+".00",1)])]),v("div",null,[v("span",null,X(null==(l=$(n).data)?void 0:l.title)+"}",1)])])],64)}}}),[["__scopeId","data-v-2305d23b"]]);export{U as default};
