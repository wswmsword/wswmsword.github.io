System.register(["./index-legacy-DLYV5Cjt.js","./index-legacy-0_rQalkq.js","./index-legacy-D5lH7o31.js","./index-legacy-CwfbOXIQ.js","./route-block-legacy-wdPIt6g0.js"],(function(e,l){"use strict";var t,o,n,i,a,u,s,c,r,d,v,m,p,f,h,g,b,k,x,y,w,C,V,O,H,S,T,I,D,B,M,N,j,P,z,$,_,E,A,U,F,L,G,q,J,K,Q,R,Y,W,X,Z;return{setters:[e=>{t=e.c,o=e.e,n=e.i,i=e.a,a=e.d,u=e.m,s=e.b,c=e.n,r=e.r,d=e.u,v=e.f,m=e.g,p=e.h,f=e.w,h=e.j,g=e.k,b=e.p,k=e.H,x=e.t,y=e.l,w=e.o,C=e.q,V=e.s,O=e.v,H=e.x,S=e.y,T=e.z,I=e.B,D=e.A,B=e.C,M=e.D,N=e.E,j=e.F,P=e.G,z=e.I,$=e.J,_=e.K,E=e.L,A=e.M,U=e.N,F=e.O,L=e.P,G=e.Q,q=e.R,J=e.S,K=e.T,Q=e.U,R=e.V},e=>{Y=e.C},e=>{W=e.C},e=>{X=e.L},e=>{Z=e.b}],execute:function(){const[l,ee,le]=t("picker"),te=e=>e.find((e=>!e.disabled))||e[0];function oe(e,l){for(let t=l=i(l,0,e.length);t<e.length;t++)if(!e[t].disabled)return t;for(let t=l-1;t>=0;t--)if(!e[t].disabled)return t;return 0}const ne=(e,l,t)=>void 0!==l&&!!e.find((e=>e[t.value]===l));function ie(e,l,t){const o=e.findIndex((e=>e[t.value]===l));return e[oe(e,o)]}const[ae,ue]=t("picker-column"),se=Symbol(ae);var ce=a({name:ae,props:{value:c,fields:u(Object),options:s(),readonly:Boolean,allowHtml:Boolean,optionHeight:u(Number),swipeDuration:u(c),visibleOptionNum:u(c)},emits:["change","clickOption","scrollInto"],setup(e,{emit:l,slots:t}){let o,n,a,u,s;const c=r(),k=r(),x=r(0),y=r(0),w=d(),C=()=>e.options.length,V=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,O=t=>{let n=oe(e.options,t);const i=-n*e.optionHeight,a=()=>{n>C()-1&&(n=oe(e.options,t));const o=e.options[n][e.fields.value];o!==e.value&&l("change",o)};o&&i!==x.value?s=a:a(),x.value=i},H=()=>e.readonly||!e.options.length,S=l=>i(Math.round(-l/e.optionHeight),0,C()-1),T=v((()=>S(x.value))),I=()=>{o=!1,y.value=0,s&&(s(),s=null)},D=e=>{if(!H()){if(w.start(e),o){const e=function(e){const{transform:l}=window.getComputedStyle(e),t=l.slice(7,l.length-1).split(", ")[5];return Number(t)}(k.value);x.value=Math.min(0,e-V())}y.value=0,n=x.value,a=Date.now(),u=n,s=null}},B=()=>{if(H())return;const l=x.value-u,t=Date.now()-a;if(t<300&&Math.abs(l)>15)return void((l,t)=>{const o=Math.abs(l/t);l=x.value+o/.003*(l<0?-1:1);const n=S(l);y.value=+e.swipeDuration,O(n)})(l,t);const n=S(x.value);y.value=200,O(n),setTimeout((()=>{o=!1}),0)},M=()=>{const n={height:`${e.optionHeight}px`};return e.options.map(((i,a)=>{const u=i[e.fields.text],{disabled:c}=i,r=i[e.fields.value],d={role:"button",style:n,tabindex:c?-1:0,class:[ue("item",{disabled:c,selected:r===e.value}),i.className],onClick:()=>(t=>{o||H()||(s=null,y.value=200,O(t),l("clickOption",e.options[t]))})(a)},v={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:u};return g("li",d,[t.option?t.option(i,a):g("div",v,null)])}))};return m(se),p({stopMomentum:I}),f((()=>{const l=o?Math.floor(-x.value/e.optionHeight):e.options.findIndex((l=>l[e.fields.value]===e.value)),t=oe(e.options,l),n=-t*e.optionHeight;o&&t<l&&I(),x.value=n})),h("touchmove",(t=>{if(H())return;w.move(t),w.isVertical()&&(o=!0,b(t,!0));const s=i(n+w.deltaY.value,-C()*e.optionHeight,e.optionHeight),c=S(s);c!==T.value&&l("scrollInto",e.options[c]),x.value=s;const r=Date.now();r-a>300&&(a=r,u=s)}),{target:c}),()=>g("div",{ref:c,class:ue(),onTouchstartPassive:D,onTouchend:B,onTouchcancel:B},[g("ul",{ref:k,style:{transform:`translate3d(0, ${x.value+V()}px, 0)`,transitionDuration:`${y.value}ms`,transitionProperty:y.value?"all":"none"},class:ue("wrapper"),onTransitionend:I},[M()])])}});const[re]=t("picker-toolbar"),de={title:String,cancelButtonText:String,confirmButtonText:String},ve=["cancel","confirm","title","toolbar"],me=Object.keys(de);var pe=a({name:re,props:de,emits:["confirm","cancel"],setup(e,{emit:l,slots:t}){const o=()=>l("cancel"),n=()=>l("confirm"),i=()=>{var l;const n=null!=(l=e.cancelButtonText)?l:le("cancel");if(t.cancel||n)return g("button",{type:"button",class:[ee("cancel"),k],onClick:o},[t.cancel?t.cancel():n])},a=()=>{var l;const o=null!=(l=e.confirmButtonText)?l:le("confirm");if(t.confirm||o)return g("button",{type:"button",class:[ee("confirm"),k],onClick:n},[t.confirm?t.confirm():o])};return()=>g("div",{class:ee("toolbar")},[t.toolbar?t.toolbar():[i(),t.title?t.title():e.title?g("div",{class:[ee("title"),"van-ellipsis"]},[e.title]):void 0,a()]])}});const[fe,he]=t("picker-group"),ge=Symbol(fe);o({tabs:s(),activeTab:y(0),nextStepText:String,showToolbar:x},de);const be=o({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:y(44),showToolbar:x,swipeDuration:y(1e3),visibleOptionNum:y(6)},de),ke=o({},be,{columns:s(),modelValue:s(),toolbarPosition:T("top"),columnsFieldNames:Object});var xe=a({name:l,props:ke,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:l,slots:t}){const i=r(),a=r(e.modelValue.slice(0)),{parent:u}=m(ge),{children:s,linkChildren:c}=w(se);c();const d=v((()=>function(e){return o({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames))),f=v((()=>C(e.optionHeight))),k=v((()=>function(e,l){const t=e[0];if(t){if(Array.isArray(t))return"multiple";if(l.children in t)return"cascade"}return"default"}(e.columns,d.value))),x=v((()=>{const{columns:l}=e;switch(k.value){case"multiple":return l;case"cascade":return function(e,l,t){const o=[];let i={[l.children]:e},a=0;for(;i&&i[l.children];){const e=i[l.children],u=t.value[a];i=n(u)?ie(e,u,l):void 0,!i&&e.length&&(i=ie(e,te(e)[l.value],l)),a++,o.push(e)}return o}(l,d.value,a);default:return[l]}})),y=v((()=>x.value.some((e=>e.length)))),T=v((()=>x.value.map(((e,l)=>ie(e,a.value[l],d.value))))),B=v((()=>x.value.map(((e,l)=>e.findIndex((e=>e[d.value.value]===a.value[l])))))),M=(e,l)=>{if(a.value[e]!==l){const t=a.value.slice(0);t[e]=l,a.value=t}},N=()=>({selectedValues:a.value.slice(0),selectedOptions:T.value,selectedIndexes:B.value}),j=()=>{s.forEach((e=>e.stopMomentum()));const e=N();return O((()=>{l("confirm",e)})),e},P=()=>l("cancel",N()),z=()=>x.value.map(((n,i)=>g(ce,{value:a.value[i],fields:d.value,options:n,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:f.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,t)=>{M(t,e),"cascade"===k.value&&a.value.forEach(((e,l)=>{const t=x.value[l];ne(t,e,d.value)||M(l,t.length?t[0][d.value.value]:void 0)})),O((()=>{l("change",o({columnIndex:t},N()))}))})(e,i),onClickOption:e=>((e,t)=>{const n={columnIndex:t,currentOption:e};l("clickOption",o(N(),n)),l("scrollInto",n)})(e,i),onScrollInto:e=>{l("scrollInto",{currentOption:e,columnIndex:i})}},{option:t.option}))),$=e=>{if(y.value){const l={height:`${f.value}px`},t={backgroundSize:`100% ${(e-f.value)/2}px`};return[g("div",{class:ee("mask"),style:t},null),g("div",{class:[I,ee("frame")],style:l},null)]}},_=()=>{const l=f.value*+e.visibleOptionNum,o={height:`${l}px`};return e.loading||y.value||!t.empty?g("div",{ref:i,class:ee("columns"),style:o},[z(),$(l)]):t.empty()},E=()=>{if(e.showToolbar&&!u)return g(pe,S(H(e,me),{onConfirm:j,onCancel:P}),H(t,ve))};let A;return V(x,(e=>{e.forEach(((e,l)=>{e.length&&!ne(e,a.value[l],d.value)&&M(l,te(e)[d.value.value])}))}),{immediate:!0}),V((()=>e.modelValue),(e=>{D(e,a.value)||D(e,A)||(a.value=e.slice(0),A=e.slice(0))}),{deep:!0}),V(a,(t=>{D(t,e.modelValue)||(A=t.slice(0),l("update:modelValue",A))}),{immediate:!0}),h("touchmove",b,{target:i}),p({confirm:j,getSelectedOptions:()=>T.value}),()=>{var l,o;return g("div",{class:ee()},["top"===e.toolbarPosition?E():null,e.loading?g(X,{class:ee("loading")},null):null,null==(l=t["columns-top"])?void 0:l.call(t),_(),null==(o=t["columns-bottom"])?void 0:o.call(t),"bottom"===e.toolbarPosition?E():null])}}});const ye=B(xe),[we,Ce]=t("switch"),Ve={size:c,loading:Boolean,disabled:Boolean,modelValue:M,activeColor:String,inactiveColor:String,activeValue:{type:M,default:!0},inactiveValue:{type:M,default:!1}};var Oe=a({name:we,props:Ve,emits:["change","update:modelValue"],setup(e,{emit:l,slots:t}){const o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const t=o()?e.inactiveValue:e.activeValue;l("update:modelValue",t),l("change",t)}},i=()=>{if(e.loading){const l=o()?e.activeColor:e.inactiveColor;return g(X,{class:Ce("loading"),color:l},null)}if(t.node)return t.node()};return N((()=>e.modelValue)),()=>{var l;const{size:a,loading:u,disabled:s,activeColor:c,inactiveColor:r}=e,d=o(),v={fontSize:j(a),backgroundColor:d?c:r};return g("div",{role:"switch",class:Ce({on:d,loading:u,disabled:s}),style:v,tabindex:s?void 0:0,"aria-checked":d,onClick:n},[g("div",{class:Ce("node")},[i()]),null==(l=t.background)?void 0:l.call(t)])}}});const He=B(Oe),Se=e("default",a({__name:"index",setup(e){const l=P(),t=r(z.value);V((()=>z.value),(e=>{t.value=e}),{immediate:!0});const{t:o}=$(),n=r(!1),i=r([_.value]),a=v((()=>E.find((e=>e.value===_.value)).text));function u(e){_.value=e.selectedOptions[0].value,n.value=!1}const s=v((()=>[{title:o("menus.mockGuide"),route:"mock"},{title:o("menus.echartsDemo"),route:"charts"},{title:o("menus.unocssExample"),route:"unocss"},{title:o("menus.persistPiniaState"),route:"counter"},{title:o("menus.keepAlive"),route:"keepalive"},{title:o("menus.404Demo"),route:"unknown"}]));return(e,c)=>{const r=He,d=W,v=Y,m=ye,p=Q;return U(),A(q,null,[g(v,{title:L(o)("menus.basicSettings"),border:!1,inset:!0},{default:F((()=>[g(d,{center:"",title:L(o)("menus.darkMode")},{"right-icon":F((()=>[g(r,{modelValue:L(t),"onUpdate:modelValue":c[0]||(c[0]=e=>G(t)?t.value=e:null),size:"20px","aria-label":"on/off Dark Mode",onClick:c[1]||(c[1]=e=>(R(),void l.switchMode(z.value?"dark":"light")))},null,8,["modelValue"])])),_:1},8,["title"]),g(d,{"is-link":"",title:L(o)("menus.language"),value:L(a),onClick:c[2]||(c[2]=e=>n.value=!0)},null,8,["title","value"])])),_:1},8,["title"]),g(v,{title:L(o)("menus.exampleComponents"),border:!1,inset:!0},{default:F((()=>[(U(!0),A(q,null,J(L(s),(e=>(U(),K(d,{key:e.route,title:e.title,to:e.route,"is-link":""},null,8,["title","to"])))),128))])),_:1},8,["title"]),g(p,{show:L(n),"onUpdate:show":c[5]||(c[5]=e=>G(n)?n.value=e:null),position:"bottom"},{default:F((()=>[g(m,{modelValue:L(i),"onUpdate:modelValue":c[3]||(c[3]=e=>G(i)?i.value=e:null),columns:L(E),onConfirm:u,onCancel:c[4]||(c[4]=e=>n.value=!1)},null,8,["modelValue","columns"])])),_:1},8,["show"])],64)}}}));"function"==typeof Z&&Z(Se)}}}));
