System.register(["./inline-px-to-vw-legacy-pQOSBWwc.js","./index-legacy-DLYV5Cjt.js","./index-legacy-D5lH7o31.js","./index-legacy-DEHUVDwc.js","./route-block-legacy-wdPIt6g0.js","./use-id-legacy-Dm7CzZGA.js","./toNumber-legacy-Dr0V64cZ.js","./index-legacy-CwfbOXIQ.js"],(function(e,r){"use strict";var l,s,a,o,d,i,t,n,m,u,c,g,p,f,w,y,v,h,k,x,V,b,P;return{setters:[e=>{l=e.F,s=e.a,a=e.v,o=e._},e=>{d=e.d,i=e.J,t=e.W,n=e.a3,m=e.r,u=e.a4,c=e.f,g=e.M,p=e.N,f=e.k,w=e.O,y=e.X,v=e.P,h=e.a1,k=e.a2,x=e.a5,V=e.a6},null,e=>{b=e.B},e=>{P=e.b},null,null,null],execute:function(){const r={class:"m-x-a w-7xl text-center"},j={class:"overflow-hidden rounded-3xl"},E={class:"mt-16 overflow-hidden rounded-3xl"},_={class:"mt-16 overflow-hidden rounded-3xl"},C={class:"mt-16 overflow-hidden rounded-3xl"},M={class:"mt-16 overflow-hidden rounded-3xl"},q={class:"mt-16"},S=e("default",d({__name:"index",setup(e){const{t:d}=i(),P=t(),S=n(),U=m(!1),N=u({email:"",code:"",nickname:"",password:"",confirmPassword:""}),$=u({email:[{required:!0,message:d("register.pleaseEnterEmail")}],code:[{required:!0,message:d("register.pleaseEnterCode")}],nickname:[{required:!0,message:d("register.pleaseEnterNickname")}],password:[{required:!0,message:d("register.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:d("register.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===N.password,message:d("register.passwordsDoNotMatch")}]});async function z(){try{U.value=!0,0===(await S.register()).code&&(V({type:"success",message:d("register.registerSuccess")}),P.push({name:"login"}))}finally{U.value=!1}}const B=m(!1),D=c((()=>B.value?d("register.gettingCode"):d("register.getCode")));async function F(){if(!N.email)return void V({type:"warning",message:d("register.pleaseEnterEmail")});B.value=!0;const e=await S.getCode();0===e.code&&V({type:"success",message:`${d("register.sendCodeSuccess")}: ${e.result}`}),B.value=!1}return(e,i)=>{const t=l,n=b,m=s,u=o;return p(),g("div",r,[f(m,{model:v(N),rules:v($),"validate-trigger":"onSubmit",onSubmit:z},{default:w((()=>[y("div",j,[f(t,{modelValue:v(N).email,"onUpdate:modelValue":i[0]||(i[0]=e=>v(N).email=e),modelModifiers:{trim:!0},rules:v($).email,name:"email",placeholder:v(d)("register.email")},null,8,["modelValue","rules","placeholder"])]),y("div",E,[f(t,{modelValue:v(N).code,"onUpdate:modelValue":i[1]||(i[1]=e=>v(N).code=e),modelModifiers:{trim:!0},rules:v($).code,name:"code",placeholder:v(d)("register.code")},{button:w((()=>[f(n,{size:"small",type:"primary",plain:"",onClick:F},{default:w((()=>[h(k(v(D)),1)])),_:1})])),_:1},8,["modelValue","rules","placeholder"])]),y("div",_,[f(t,{modelValue:v(N).nickname,"onUpdate:modelValue":i[2]||(i[2]=e=>v(N).nickname=e),modelModifiers:{trim:!0},rules:v($).nickname,name:"nickname",placeholder:v(d)("register.nickname")},null,8,["modelValue","rules","placeholder"])]),y("div",C,[f(t,{modelValue:v(N).password,"onUpdate:modelValue":i[3]||(i[3]=e=>v(N).password=e),modelModifiers:{trim:!0},type:"password",rules:v($).password,name:"password",placeholder:v(d)("register.password")},null,8,["modelValue","rules","placeholder"])]),y("div",M,[f(t,{modelValue:v(N).confirmPassword,"onUpdate:modelValue":i[4]||(i[4]=e=>v(N).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:v($).confirmPassword,name:"confirmPassword",placeholder:v(d)("register.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),y("div",q,[f(n,{loading:v(U),type:"primary","native-type":"submit",round:"",block:""},{default:w((()=>[h(k(e.$t("register.confirm")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"]),f(u,{to:"login",block:"",style:x({"margin-top":v(a)(8)})},{default:w((()=>[h(k(e.$t("register.backToLogin")),1)])),_:1},8,["style"])])}}}));"function"==typeof P&&P(S)}}}));
