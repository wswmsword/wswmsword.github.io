System.register(["./index-legacy-DLYV5Cjt.js"],(function(r,o){"use strict";var e,i,l,a,n,t,s,c,u,d,v,g,f,h,y,p,m,S,w,z,b;return{setters:[r=>{e=r.d,i=r.z,l=r.t,a=r.n,n=r.c,t=r.r,s=r.ak,c=r.f,u=r.F,d=r.i,v=r.s,g=r.al,f=r.am,h=r.Z,y=r.v,p=r.k,m=r.a8,S=r.an,w=r.y,z=r.Y,b=r.C}],execute:function(){const[o,L]=n("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:a,height:a,radius:a,lazyLoad:Boolean,iconSize:a,showError:l,errorIcon:i("photo-fail"),iconPrefix:String,showLoading:l,loadingIcon:i("photo"),crossorigin:String,referrerpolicy:String};var k=e({name:o,props:x,emits:["load","error"],setup(r,{emit:o,slots:e}){const i=t(!1),l=t(!0),a=t(),{$Lazyload:n}=s().proxy,b=c((()=>{const o={width:u(r.width),height:u(r.height)};return d(r.radius)&&(o.overflow="hidden",o.borderRadius=u(r.radius)),o}));v((()=>r.src),(()=>{i.value=!1,l.value=!0}));const x=r=>{l.value&&(l.value=!1,o("load",r))},k=()=>{const r=new Event("load");Object.defineProperty(r,"target",{value:a.value,enumerable:!0}),x(r)},I=r=>{i.value=!0,l.value=!1,o("error",r)},P=(o,e,i)=>i?i():p(z,{name:o,size:r.iconSize,class:e,classPrefix:r.iconPrefix},null),$=()=>{if(i.value||!r.src)return;const o={alt:r.alt,class:L("img"),style:{objectFit:r.fit,objectPosition:r.position},crossorigin:r.crossorigin,referrerpolicy:r.referrerpolicy};return r.lazyLoad?m(p("img",w({ref:a},o),null),[[S("lazy"),r.src]]):p("img",w({ref:a,src:r.src,onLoad:x,onError:I},o),null)},j=({el:r})=>{const o=()=>{r===a.value&&l.value&&k()};a.value?o():y(o)},E=({el:r})=>{r!==a.value||i.value||I()};return n&&g&&(n.$on("loaded",j),n.$on("error",E),f((()=>{n.$off("loaded",j),n.$off("error",E)}))),h((()=>{y((()=>{var o;(null==(o=a.value)?void 0:o.complete)&&!r.lazyLoad&&k()}))})),()=>{var o;return p("div",{class:L({round:r.round,block:r.block}),style:b.value},[$(),l.value&&r.showLoading?p("div",{class:L("loading")},[P(r.loadingIcon,L("loading-icon"),e.loading)]):i.value&&r.showError?p("div",{class:L("error")},[P(r.errorIcon,L("error-icon"),e.error)]):void 0,null==(o=e.default)?void 0:o.call(e)])}}});r("I",b(k))}}}));
