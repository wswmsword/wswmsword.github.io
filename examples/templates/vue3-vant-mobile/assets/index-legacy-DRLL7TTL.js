System.register(["./inline-px-to-vw-legacy-pQOSBWwc.js","./index-legacy-DLYV5Cjt.js","./index-legacy-D5lH7o31.js","./index-legacy-DEHUVDwc.js","./route-block-legacy-wdPIt6g0.js","./use-id-legacy-Dm7CzZGA.js","./toNumber-legacy-Dr0V64cZ.js","./index-legacy-CwfbOXIQ.js"],(function(e,o){"use strict";var s,a,r,l,d,t,i,n,u,m,c,p,f,g,w,y,v,h,x,V,b,P,j;return{setters:[e=>{s=e.F,a=e.a,r=e.v,l=e._},e=>{d=e.d,t=e.J,i=e.W,n=e.a3,u=e.r,m=e.a4,c=e.f,p=e.M,f=e.N,g=e.k,w=e.O,y=e.X,v=e.P,h=e.a1,x=e.a2,V=e.a5,b=e.a6},null,e=>{P=e.B},e=>{j=e.b},null,null,null],execute:function(){const o={class:"m-x-a w-7xl text-center"},_={class:"overflow-hidden rounded-3xl"},k={class:"mt-16 overflow-hidden rounded-3xl"},C={class:"mt-16 overflow-hidden rounded-3xl"},E={class:"mt-16 overflow-hidden rounded-3xl"},M={class:"mt-16"},q=e("default",d({__name:"index",setup(e){const{t:d}=t(),j=i(),q=n(),S=u(!1),U=m({email:"",code:"",password:"",confirmPassword:""}),$=m({email:[{required:!0,message:d("forgot-password.pleaseEnterEmail")}],code:[{required:!0,message:d("forgot-password.pleaseEnterCode")}],password:[{required:!0,message:d("forgot-password.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:d("forgot-password.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===U.password,message:d("forgot-password.passwordsDoNotMatch")}]});async function N(){try{S.value=!0,0===(await q.reset()).code&&(b({type:"success",message:d("forgot-password.passwordResetSuccess")}),j.push({name:"login"}))}finally{S.value=!1}}const z=u(!1),B=c((()=>z.value?d("forgot-password.gettingCode"):d("forgot-password.getCode")));async function D(){if(!U.email)return void b({type:"warning",message:d("forgot-password.pleaseEnterEmail")});z.value=!0;const e=await q.getCode();0===e.code&&b({type:"success",message:`${d("forgot-password.sendCodeSuccess")}: ${e.result}`}),z.value=!1}return(e,t)=>{const i=s,n=P,u=a,m=l;return f(),p("div",o,[g(u,{model:v(U),rules:v($),"validate-trigger":"onSubmit",onSubmit:N},{default:w((()=>[y("div",_,[g(i,{modelValue:v(U).email,"onUpdate:modelValue":t[0]||(t[0]=e=>v(U).email=e),modelModifiers:{trim:!0},rules:v($).email,name:"email",placeholder:v(d)("forgot-password.email")},null,8,["modelValue","rules","placeholder"])]),y("div",k,[g(i,{modelValue:v(U).code,"onUpdate:modelValue":t[1]||(t[1]=e=>v(U).code=e),modelModifiers:{trim:!0},rules:v($).code,name:"code",placeholder:v(d)("forgot-password.code")},{button:w((()=>[g(n,{size:"small",type:"primary",plain:"",onClick:D},{default:w((()=>[h(x(v(B)),1)])),_:1})])),_:1},8,["modelValue","rules","placeholder"])]),y("div",C,[g(i,{modelValue:v(U).password,"onUpdate:modelValue":t[2]||(t[2]=e=>v(U).password=e),modelModifiers:{trim:!0},type:"password",rules:v($).password,name:"password",placeholder:v(d)("forgot-password.password")},null,8,["modelValue","rules","placeholder"])]),y("div",E,[g(i,{modelValue:v(U).confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=e=>v(U).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:v($).confirmPassword,name:"confirmPassword",placeholder:v(d)("forgot-password.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),y("div",M,[g(n,{loading:v(S),type:"primary","native-type":"submit",round:"",block:""},{default:w((()=>[h(x(e.$t("forgot-password.confirm")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"]),g(m,{to:"login",block:"",style:V({"margin-top":v(r)(8)})},{default:w((()=>[h(x(e.$t("forgot-password.backToLogin")),1)])),_:1},8,["style"])])}}}));"function"==typeof j&&j(q)}}}));
