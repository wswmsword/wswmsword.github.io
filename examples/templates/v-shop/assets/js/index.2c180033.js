import{_ as z}from"./index.f89d891c.js";import{_ as D}from"./index.48a12f4a.js";import{e as M,j as P,y as w,z as r,A as f,r as v,o as a,a as l,b as t,g as _,w as h,i as E,F as y,B as C,f as R,D as S,G as F,H as N}from"./vendor.1aafb642.js";import{A as x}from"./index.9c8d6691.js";import{I as O}from"./good.905862fe.js";import{_ as U}from"./index.ce6ac14e.js";import"./index.6012130b.js";const j=n=>(F("data-v-fc865779"),n=n(),N(),n),q={class:"container"},H={class:"main"},Y={class:"right-content scroller-y"},$={class:"list"},J=["onClick"],K={class:"list-item-info"},Q={class:"list-item-title"},W={class:"list-item-price"},X={class:"price"},Z={class:"price-current"},ee=j(()=>t("span",{class:"price-current-symbol"},"¥",-1)),te={class:"price-current-integer"},oe={name:"Category"},se=M({...oe,setup(n){P(()=>{k()});const I=w(),d=r(0),p=r([]);function b(){var o;(o=u.value)==null||o.refresh()}function k(){x.goodsCategoryAll().then(o=>{var s,i;(s=o.data)!=null&&s.length&&(p.value=o.data.map(c=>({...c,text:c.name})),(i=u.value)==null||i.loadData())})}const u=r(null),m=r([]),g=f({pageCurrent:1,pageSize:10}),L=f({loadingText:"努力加载中...",emptyText:"暂无商品",emptyImage:O});function A(){const o={categoryId:E(p.value)[d.value].id,page:g.pageCurrent,pageSize:g.pageSize};return x.goodsList(o)}function B(o){I.push({path:"/good/detail",query:{id:o}})}return(o,s)=>{const i=v("van-sidebar-item"),c=v("van-sidebar"),G=v("van-image"),T=D,V=z;return a(),l("div",q,[t("div",H,[_(c,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),class:"sidebar",onChange:b},{default:h(()=>[(a(!0),l(y,null,C(p.value,e=>(a(),R(i,{key:e.id,title:e.name},null,8,["title"]))),128))]),_:1},8,["modelValue"]),t("div",Y,[_(T,{ref_key:"listRef",ref:u,dataSource:m.value,"onUpdate:dataSource":s[1]||(s[1]=e=>m.value=e),mode:"infinite",api:A,pagination:g,meta:L},{default:h(()=>[t("div",$,[(a(!0),l(y,null,C(m.value,e=>(a(),l("div",{key:e.id,class:"list-col"},[t("div",{class:"list-item",onClick:ae=>B(e.id)},[_(G,{class:"list-item-photo",src:e.pic,alt:e.name},null,8,["src","alt"]),t("div",K,[t("div",Q,S(e.name),1),t("div",W,[t("div",X,[t("div",Z,[ee,t("span",te,S(e.minPrice),1)])])])])],8,J)]))),128))])]),_:1},8,["dataSource","pagination","meta"])])]),_(V)])}}});const pe=U(se,[["__scopeId","data-v-fc865779"]]);export{pe as default};
