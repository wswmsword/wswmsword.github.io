import{_ as D}from"./index.f89d891c.js";import{_ as M}from"./index.48a12f4a.js";import{_ as R}from"./index.9f946532.js";import{e as V,j as $,y as q,z as p,A as f,r as c,o,a as i,b as t,g as a,w as r,F as h,B as y,f as F,C as b,D as d,E as H,G as O,H as U}from"./vendor.1aafb642.js";import{A as j}from"./index.9c8d6691.js";import{r as k,_ as Y}from"./index.ce6ac14e.js";import{I as J}from"./good.905862fe.js";import"./index.6012130b.js";function K(n){return k({url:"/banner/list",method:"get",params:n})}function Q(n){return k({url:"/banner/types",method:"get",params:n})}const W={bannerList:K,bannerTypes:Q},w=n=>(O("data-v-d7098571"),n=n(),U(),n),X={class:"container"},Z={class:"swiper"},ee={class:"main"},te={class:"list"},se=["onClick"],ne={key:0,class:"list-item-badge"},oe={class:"list-item-info"},ae={class:"list-item-title"},ie={class:"list-item-price"},ce={class:"price"},re={class:"price-current"},_e=w(()=>t("span",{class:"price-current-symbol"},"¥",-1)),le={class:"price-current-integer"},pe={key:0,class:"price-origin"},de=w(()=>t("span",{class:"price-origin-symbol"},"¥",-1)),ue={class:"price-origin-integer"},me={name:"Home"},ve=V({...me,setup(n){$(()=>{var s;S(),(s=m.value)==null||s.loadData()});const C=q(),u=p([]);function S(){W.bannerList({type:"indexBanner"}).then(s=>{u.value=s.data||[]})}function x(s){s&&(window.location.href=s)}const m=p(null),_=p([]),l=f({pageCurrent:1,pageSize:10}),I=f({loadingText:"努力加载中...",emptyText:"暂无商品",emptyImage:J});function B(){const s={page:l.pageCurrent,pageSize:l.pageSize};return j.goodsList(s)}function L(s){C.push({path:"/good/detail",query:{id:s}})}return(s,v)=>{const g=c("van-image"),P=c("van-swipe-item"),T=c("van-swipe"),A=R,N=c("van-button"),E=M,G=D;return o(),i("div",X,[t("div",Z,[a(T,{autoplay:5e3,class:"swiper"},{default:r(()=>[(o(!0),i(h,null,y(u.value,e=>(o(),F(P,{key:e.id,class:"swiper-item",onClick:z=>x(e.linkUrl)},{default:r(()=>[a(g,{class:"swiper-item-img",fit:"cover",src:e.picUrl,alt:e.title},null,8,["src","alt"])]),_:2},1032,["onClick"]))),128))]),_:1})]),t("div",ee,[a(A,{class:"section-header",title:"商品列表"}),a(E,{ref_key:"listRef",ref:m,dataSource:_.value,"onUpdate:dataSource":v[0]||(v[0]=e=>_.value=e),mode:"infinite",api:B,pagination:l,meta:I},{default:r(()=>[t("div",te,[(o(!0),i(h,null,y(_.value,e=>(o(),i("div",{key:e.id,class:"list-col"},[t("div",{class:"list-item",onClick:z=>L(e.id)},[e.recommendStatus?(o(),i("div",ne,"推荐")):b("",!0),a(g,{class:"list-item-photo",src:e.pic,alt:e.name},null,8,["src","alt"]),t("div",oe,[t("div",ae,d(e.name),1),t("div",ie,[t("div",ce,[t("div",re,[_e,t("span",le,d(e.minPrice),1)]),e.originalPrice>0?(o(),i("div",pe,[de,t("span",ue,d(e.originalPrice),1)])):b("",!0)]),a(N,{type:"primary",plain:"",class:"buy-btn"},{default:r(()=>[H("购买")]),_:1})])])],8,se)]))),128))])]),_:1},8,["dataSource","pagination","meta"])]),a(G)])}}});const Se=Y(ve,[["__scopeId","data-v-d7098571"]]);export{Se as default};
