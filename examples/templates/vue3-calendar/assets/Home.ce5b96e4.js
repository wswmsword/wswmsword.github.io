import{S as m,I as x,O as P,a as W,L as H,H as q,_ as O}from"./datepicker.vue_vue_type_style_index_0_lang.d23f94d0.js";import{d as V,r as v,a as X,c as l,b as s,e as J,t,u as o,f as p,F as y,g as w,w as Q,o as i,n as I,h as A,i as R,j as U}from"./index.55a8fb2d.js";const K=[{label:"\u65E5",value:0},{label:"\u4E00",value:1},{label:"\u4E8C",value:2},{label:"\u4E09",value:3},{label:"\u56DB",value:4},{label:"\u4E94",value:5},{label:"\u516D",value:6}];function ss(k,r,b){let C=new Date(k,parseInt(r)-1,b),_=new Date(k,0,1),d=Math.round((C.valueOf()-_.valueOf())/864e5);return Math.ceil((d+(_.getDay()+1-1))/7)}const es={class:"calendar_wrapper"},as={class:"calendar_nav"},ns=s("div",{class:"calendar_nav_back"},null,-1),ts=s("div",{class:"cnj_inner"},"\u4ECA",-1),os=[ts],is={class:"calendar"},ls={class:"calendar_body"},cs={class:"calendar_body_week"},_s={class:"calendar_body_date"},ds=["onClick"],us={class:"cbd_item_yangli"},hs={key:0,class:"cbd_item_jq"},rs={key:1,class:"cbd_item_fest"},vs={key:2,class:"cbd_item_fest"},gs={key:3,class:"cbd_item_yinli"},ys={class:"wrapper"},ws={class:"showinfo"},Ds={class:"showinfo_yili"},fs={class:"showinfo_yili_mid"},ps={class:"showinfo_yili_til"},ks={class:"showinfo_yili_info"},bs={class:"showinfo"},Cs={class:"showinfo_yiji"},Ls={class:"showinfo_yiji_cont"},xs={class:"syc_yi"},js=s("div",{class:"syc_icon"},[s("div",{class:"syc_icon_inner"},"\u5B9C")],-1),Es={class:"syc_icon_item"},zs={class:"syc_yi syc_ji"},Fs=s("div",{class:"syc_icon syc_ji"},[s("div",{class:"syc_icon_inner j_inner"},"\u5FCC")],-1),Ms={class:"syc_icon_item"},Ys={class:"showinfo"},Is={class:"showinfo_wxcs"},Bs={class:"showinfo_wxcs_wcz"},Ss={class:"sww_item"},Zs=s("div",{class:"sww_item_til"},"\u4E94\u884C",-1),Gs={class:"sww_item_value"},Ts={class:"sww_item"},$s=s("div",{class:"sww_item_til"},"\u51B2\u715E",-1),Ns={class:"sww_item_value"},ms={class:"sww_item noboder"},Ps=s("div",{class:"sww_item_til"},"\u503C\u795E",-1),Ws={class:"sww_item_value"},Hs={class:"showinfo_wxcs_sycj"},qs=s("div",{class:"sws_label"},"\u65F6\u5B9C\u8FB0\u5FCC",-1),Os={class:"sws_value"},Vs={class:"showinfo_wxcs_cf"},Xs={class:"swc_shen"},Js=s("div",{class:"swc_shen_label"},"\u8D22\u795E",-1),Qs={class:"swc_shen_value"},As={class:"swc_shen"},Rs=s("div",{class:"swc_shen_label"},"\u798F\u795E",-1),Us={class:"swc_shen_value"},Ks={class:"showinfo_wxcs_cf"},se={class:"swc_shen"},ee=s("div",{class:"swc_shen_label"},"\u559C\u795E",-1),ae={class:"swc_shen_value"},ne={class:"swc_shen"},te=s("div",{class:"swc_shen_label"},"\u9633\u8D35",-1),oe={class:"swc_shen_value"},ie={class:"pzbj"},le=s("div",{class:"pzbj_til"},"\u5F6D\u7956\u767E\u5FCC",-1),ce={class:"pzbj_val"},ue=V({__name:"Home",setup(k){const r=v(!1);let b=new Date().getMonth()+1,C=new Date().getFullYear(),_=v(new Date().getFullYear()),d=v(new Date().getMonth()+1),j=v(new Date().getDate());const D=m.fromDate(new Date),B=D.getLunar().getTimeInGanZhi();let g=v([]);const f=(a,c)=>{var e=W.fromDate(new Date(`${a}/${c}/1`));const h=e.getDays()[0].getWeek(),Y=e.next(-1).getDays().slice(e.next(-1).getDays().length-h,e.next(-1).getDays().length),T=e.getDays(),$=e.getDays()[e.getDays().length-1].getWeek(),N=e.next(1).getDays().slice(0,6-$);return[...Y,...T,...N]};g.value=f(_.value,d.value);const E=a=>{const c=q.getHoliday(a.getYear(),a.getMonth(),a.getDay());return c==null?void 0:c.isWork()},u=v(D),L=a=>{u.value=a,d.value=u.value.getMonth(),_.value=u.value.getYear(),z(a),g.value=f(_.value,d.value)},n=X({yinli:"",ganzhiyear:"",ganzhimonth:"",weeks:0,ganzhiday:"",dayyi:[],dayji:[],wuxing:"",chongsha:"",zhishen:"",xishenpos:"",yangguipos:"",fushenpos:"",caishenpos:"",times:[],xingqi:"",pzbj:""}),z=a=>{n.yinli=a.getLunar().getMonthInChinese()+"\u6708"+a.getLunar().getDayInChinese(),n.ganzhiyear=a.getLunar().getYearInGanZhi()+a.getLunar().getYearShengXiao()+"\u5E74",n.ganzhimonth=a.getLunar().getMonthInGanZhi(),n.ganzhiday=a.getLunar().getDayInGanZhi(),n.weeks=ss(a.getYear(),a.getMonth(),a.getDay()),n.dayyi=a.getLunar().getDayYi(),n.dayji=a.getLunar().getDayJi(),n.wuxing=a.getLunar().getDayNaYin(),n.xingqi=a.getWeekInChinese(),n.pzbj=a.getLunar().getPengZuGan()+" "+a.getLunar().getPengZuZhi(),n.chongsha=a.getLunar().getDayShengXiao()+"\u65E5\u51B2"+a.getLunar().getDayChongShengXiao(),n.zhishen=a.getLunar().getDayTianShen(),n.caishenpos=a.getLunar().getDayPositionCaiDesc(),n.xishenpos=a.getLunar().getDayPositionXiDesc(),n.yangguipos=a.getLunar().getDayPositionYangGuiDesc(),n.fushenpos=a.getLunar().getDayPositionFuDesc(),n.times=a.getLunar().getTimes(),n.times.pop()};z(D);const F=a=>{u.value=u.value.next(a),d.value=u.value.getMonth(),_.value=u.value.getYear(),g.value=f(_.value,d.value),L(u.value)},M=a=>{L(a),u.value=a,d.value=a.getMonth(),_.value=a.getYear(),g.value=f(_.value,d.value)},S=()=>{M(D)},Z=U(),G=()=>Z.push("/select");return(a,c)=>(i(),l("div",es,[s("div",as,[ns,s("div",{class:"calendar_nav_date",onClick:c[0]||(c[0]=e=>r.value=!0)},[J(t(o(_))+"\u5E74"+t(o(d))+"\u6708",1),p(o(x),{name:"arrow-down"})]),s("div",{class:"calendar_nav_jin"},[s("div",{class:"cnj",onClick:S},os)])]),s("div",is,[s("div",ls,[s("div",cs,[(i(!0),l(y,null,w(o(K),e=>(i(),l("div",{class:"cbw_item",key:e.value},t(e.label),1))),128))]),s("div",_s,[(i(!0),l(y,null,w(o(g),e=>{var h;return i(),l("div",{class:I(["cbd_item",{notnowmonth:o(d)!=e.getMonth(),nowdate:o(j)==e.getDay()&&o(b)==e.getMonth()&&o(C)==e.getYear(),selectday:u.value.getDay()==e.getDay()&&u.value.getMonth()==e.getMonth(),nowork:E(e)===!1,ban:E(e)===!0}]),onClick:Y=>L(e),key:e},[s("div",us,t(e.getDay()),1),(h=e==null?void 0:e.getLunar())!=null&&h.getJieQi()?(i(),l("div",hs,t(e.getLunar().getJieQi()),1)):e.getLunar().getFestivals()[0]?(i(),l("div",rs,t(e.getLunar().getFestivals()[0]),1)):e.getFestivals()[0]?(i(),l("div",vs,t(e.getFestivals()[0]),1)):(i(),l("div",gs,t(e.getLunar().getDayInChinese()),1))],10,ds)}),128))])]),p(o(P),{class:"calendar_picker",show:r.value,onClick:c[1]||(c[1]=e=>r.value=!1)},{default:Q(()=>[s("div",ys,[r.value?(i(),A(O,{key:0,class:"block",onConfirm:M})):R("",!0)])]),_:1},8,["show"])]),s("div",ws,[s("div",Ds,[p(o(x),{class:"showinfo_yili_icon",onClick:c[2]||(c[2]=e=>F(-1)),name:"arrow-left"}),s("div",fs,[s("div",ps,t(n.yinli),1),s("div",ks,[s("span",null,t(n.ganzhiyear),1),s("span",null,t(n.ganzhimonth)+"\u6708",1),s("span",null,t(n.ganzhiday)+"\u65E5",1),s("span",null,"\u661F\u671F"+t(n.xingqi),1)])]),p(o(x),{class:"showinfo_yili_icon",onClick:c[3]||(c[3]=e=>F(1)),name:"arrow"})])]),s("div",bs,[s("div",Cs,[s("div",Ls,[s("div",xs,[js,s("div",Es,[(i(!0),l(y,null,w(n.dayyi,e=>(i(),l("span",{key:e},t(e),1))),128))])]),s("div",zs,[Fs,s("div",Ms,[(i(!0),l(y,null,w(n.dayji,e=>(i(),l("span",{key:e},t(e),1))),128))])])]),s("div",{class:"showinfo_yiji_wrapper"},[s("div",{class:"syw_inner",onClick:G},"\u5409\u65E5\u67E5\u8BE2")])])]),s("div",Ys,[s("div",Is,[s("div",Bs,[s("div",Ss,[Zs,s("div",Gs,t(n.wuxing),1)]),s("div",Ts,[$s,s("div",Ns,t(n.chongsha),1)]),s("div",ms,[Ps,s("div",Ws,t(n.zhishen),1)])]),s("div",Hs,[qs,s("div",Os,[(i(!0),l(y,null,w(n.times,(e,h)=>(i(),l("div",{class:I(["sws_value_list",{nowtime:o(B)==e.getGanZhi()}]),key:h},t(e.getGanZhi())+t(o(H).fromDate(new Date(o(_),o(d),o(j),h*2,0,0)).getTimeTianShenLuck()),3))),128))])]),s("div",Vs,[s("div",Xs,[Js,s("div",Qs,t(n.caishenpos),1)]),s("div",As,[Rs,s("div",Us,t(n.fushenpos),1)])]),s("div",Ks,[s("div",se,[ee,s("div",ae,t(n.xishenpos),1)]),s("div",ne,[te,s("div",oe,t(n.yangguipos),1)])]),s("div",ie,[le,s("div",ce,t(n.pzbj),1)])])])]))}});export{ue as default};
