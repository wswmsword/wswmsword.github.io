import{i as M,u as g,a as R,f as v,c as A,b as x,d as S,r as o,M as W,j as i,m,F as z,A as C}from"./index-NWlAg9jw.js";function L(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],r=t[1+n],c=t[2+n],a=t[3+n],f=M(r,c,a);return e?f(s):f}function E(t,e){const n=g(e()),s=()=>n.set(e());return s(),R(()=>{const r=()=>v.preRender(s,!1,!0),c=t.map(a=>a.on("change",r));return()=>{c.forEach(a=>a()),A(s)}}),n}function T(t){x.current=[],t();const e=E(x.current,t);return x.current=void 0,e}function _(t,e,n,s){if(typeof t=="function")return T(t);const r=typeof e=="function"?e:L(e,n,s);return Array.isArray(t)?j(t,r):j([t],([c])=>r(c))}function j(t,e){const n=S(()=>[]);return E(t,()=>{n.length=0;const s=t.length;for(let r=0;r<s;r++)n[r]=t[r].get();return e(n)})}function H(t){const e=o.useRef(0),{isStatic:n}=o.useContext(W);o.useEffect(()=>{if(n)return;const s=({timestamp:r,delta:c})=>{e.current||(e.current=r),t(r-e.current,c)};return v.update(s,!0),()=>A(s)},[t])}const I=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function b({children:t,baseVelocity:e=100,dir:n="row",positive:s=!0,...r}){const c=o.useRef(null),a=g(0),[f,N]=o.useState(0),p=o.useRef(0),y=o.useRef(s),P=_(a,u=>`${I(0,p.current*-1,u)}%`);H((u,l)=>{const d=e*(l/1e3)*(y.current?1:-1);a.set(a.get()+d)}),o.useLayoutEffect(()=>{var w;const u=window.innerWidth,l=window.innerHeight,d=((w=c.current)==null?void 0:w.clientWidth)||1,V=n==="row"?u/d:l/d,h=Math.ceil(V)*2;N(h-1),p.current=100/h},[]),o.useEffect(()=>{y.current=s},[s]);const{className:D,...F}=r;return i.jsx("div",{className:`parallax ${D}`,...F,children:i.jsxs(m.div,{className:"scroller",style:{x:P},children:[i.jsxs("span",{ref:c,children:[t," "]}),new Array(f).fill(0).map((u,l)=>i.jsxs("span",{children:[t," "]},l))]})})}function k(){const t=o.use(z),[e,n]=o.useState(!0);return o.useEffect(()=>{t.resCurDir!=null&&t.resCurDir!==""&&(["l","d"].includes(t.resCurDir)&&n(!0),["r","u"].includes(t.resCurDir)&&n(!1))},[t.resCurDir]),i.jsxs(i.Fragment,{children:[i.jsx(C,{children:["l","r"].includes(t.resCurDir)&&i.jsx(m.div,{className:"fixed",initial:{opacity:0},animate:{opacity:1},transition:{duration:0},exit:{opacity:0,transition:{duration:2}},children:i.jsx(b,{baseVelocity:-13,positive:e,className:"fixed top-1/2 -translate-y-1/2 w-full py-3 -z-1 bg-[#f3c210] text-black",children:"Focux 由 wswmsword 强势驱动"})})}),i.jsx(C,{children:["u","d"].includes(t.resCurDir)&&i.jsx(m.div,{className:"fixed",initial:{opacity:0},animate:{opacity:1},transition:{duration:0},exit:{opacity:0,transition:{duration:2}},children:i.jsx(b,{baseVelocity:19,dir:"col",positive:e,className:"fixed top-1/2 md:-translate-x-[calc(50%-325px)] rotate-90 w-full py-3 -z-1 bg-[#f3c210] text-black",children:"Focux ⬆️ ➡️ ⬇️ ⬅️"})})})]})}export{k as default};
