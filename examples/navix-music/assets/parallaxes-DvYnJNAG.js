import{i as R,u as N,a as S,f as b,c as g,b as x,d as F,r as o,M as W,j as i,m,F as z,A as C}from"./index-Cai75C0k.js";function L(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],r=t[1+n],a=t[2+n],c=t[3+n],f=R(r,a,c);return e?f(s):f}function A(t,e){const n=N(e()),s=()=>n.set(e());return s(),S(()=>{const r=()=>b.preRender(s,!1,!0),a=t.map(c=>c.on("change",r));return()=>{a.forEach(c=>c()),g(s)}}),n}function T(t){x.current=[],t();const e=A(x.current,t);return x.current=void 0,e}function _(t,e,n,s){if(typeof t=="function")return T(t);const r=typeof e=="function"?e:L(e,n,s);return Array.isArray(t)?j(t,r):j([t],([a])=>r(a))}function j(t,e){const n=F(()=>[]);return A(t,()=>{n.length=0;const s=t.length;for(let r=0;r<s;r++)n[r]=t[r].get();return e(n)})}function H(t){const e=o.useRef(0),{isStatic:n}=o.useContext(W);o.useEffect(()=>{if(n)return;const s=({timestamp:r,delta:a})=>{e.current||(e.current=r),t(r-e.current,a)};return b.update(s,!0),()=>g(s)},[t])}const I=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function v({children:t,baseVelocity:e=100,dir:n="row",positive:s=!0,...r}){const a=o.useRef(null),c=N(0),[f,E]=o.useState(0),p=o.useRef(0),h=o.useRef(s),P=_(c,u=>`${I(0,p.current*-1,u)}%`);H((u,l)=>{const d=e*(l/1e3)*(h.current?1:-1);c.set(c.get()+d)}),o.useLayoutEffect(()=>{var w;const u=window.innerWidth,l=window.innerHeight,d=((w=a.current)==null?void 0:w.clientWidth)||1,M=n==="row"?u/d:l/d,y=Math.ceil(M)*2;E(y-1),p.current=100/y},[]),o.useEffect(()=>{h.current=s},[s]);const{className:D,...V}=r;return i.jsx("div",{className:`parallax ${D}`,...V,children:i.jsxs(m.div,{className:"scroller",style:{x:P},children:[i.jsxs("span",{ref:a,children:[t," "]}),new Array(f).fill(0).map((u,l)=>i.jsxs("span",{children:[t," "]},l))]})})}function k(){const t=o.use(z),[e,n]=o.useState(!0);return o.useEffect(()=>{t.resCurDir!=null&&t.resCurDir!==""&&(["l","d"].includes(t.resCurDir)&&n(!0),["r","u"].includes(t.resCurDir)&&n(!1))},[t.resCurDir]),i.jsxs(i.Fragment,{children:[i.jsx(C,{children:["l","r"].includes(t.resCurDir)&&i.jsx(m.div,{className:"fixed",initial:{opacity:0},animate:{opacity:1},transition:{duration:0},exit:{opacity:0,transition:{duration:2}},children:i.jsx(v,{baseVelocity:-13,positive:e,className:"fixed top-[148px] w-full py-3 -z-1 bg-[#f3c210] text-black",children:"Naviix 由 wswmsword 强势驱动"})})}),i.jsx(C,{children:["u","d"].includes(t.resCurDir)&&i.jsx(m.div,{className:"fixed",initial:{opacity:0},animate:{opacity:1},transition:{duration:0},exit:{opacity:0,transition:{duration:2}},children:i.jsx(v,{baseVelocity:19,dir:"col",positive:e,className:"fixed top-1/2 md:-translate-x-[calc(50%-325px)] rotate-90 w-full py-3 -z-1 bg-[#f3c210] text-black",children:"Naviix ⬆️ ➡️ ⬇️ ⬅️"})})})]})}export{k as default};
