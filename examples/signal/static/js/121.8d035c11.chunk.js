"use strict";(self.webpackChunksignal=self.webpackChunksignal||[]).push([[121],{732:(e,t,n)=>{n.d(t,{A:()=>d});var s=n(43),i=n(216),r=n(475);const o="grey-pin-item_grey_box__ligHe",c="grey-pin-item_content__NPwBi",a="grey-pin-item_selected__zLvnq",l="grey-pin-item_event__ojc6B";var u=n(579);const d=e=>{const{h:t,selected:n,readyToCalc:d,event:p,eventImgId:f,info:h}=e,m=(0,i.zy)();return(0,s.useLayoutEffect)((()=>{d()}),[]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:`${o} ${n?a:""}`,style:{width:"100%",height:`${t||100}px`},children:[(0,u.jsx)(r.N_,{to:n?"":`msgs/${h.data.id}`,children:(0,u.jsx)("div",{className:c})}),p&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.N_,{to:`/events/${f}`,state:{backgroundLocation:m},children:(0,u.jsx)("div",{className:l})},f)})]})})}},535:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(43),i=n(216),r=n(579);function o(e){return function(t){const{setItemOffsetYs:n,itemsDividedByCols:o,itemInfosRef:c,deselect:a,select:l,placeH:u,gapY:d,setPlaceTop:p,setPlaceData:f,setH:h,originH:m,...g}=t,{msgId:x}=(0,i.g)(),y=(0,s.useCallback)((()=>{const e=c.current.map((e=>e.id));n(e.map((e=>[e,0]))),a(),h(m)}),[a,c,m,h,n]),v=(0,s.useCallback)((()=>{if(0===o.length)return;const e=c.current.find((e=>e.data.id===x));if(null==e){const e=function(e,t,n){return e.current.map((e=>[e.id,t+n]))}(c,u,d);return n(e),p(0),void h(m+u+d)}l(e.id);const t=function(e,t,n,s){const i=e.top+e.height;return t.reduce(((e,t)=>{const r=t.length;let o=0,c=0,a=0;for(let l=0;l<r;++l){const e=t[l],r=e.top+e.height;if(r>=i){o=t[l].id,c=r-i,a=n-c+s;break}}return e=e.concat({separator:o,negative:c,positive:a})}),[])}(e,o,u,d),s=c.current.map((e=>{const n=e.colId,{positive:s,negative:i,separator:r}=t[n];return[e.id,e.id>r?s:-i]}));n(s),p(e.top+e.height+d),h(m+u+d)}),[d,c,o,x,m,u,l,h,n,p]);return(0,s.useEffect)((()=>(x?v():y(),()=>{})),[y,x,v]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e,{...g})})}}},317:(e,t,n)=>{n.d(t,{g:()=>x,A:()=>g});var s=n(43);const i="pin-layout_wrapper__uFJWR",r="pin-layout_item__CtSo1",o="pin-layout_move_trans__scN7U",c="pin-layout_selected__Kp0Ak",a="pin-layout_placeholder__leQGq";var l=n(579);const u=function(e){let{width:t,itemWidth:n,colNum:u,gapX:p=36,gapY:f=36,placeHeight:h=521,ItemComp:m,itemsData:g=[],PlaceComp:x}=e;const[y,v]=(0,s.useState)(0),[b,M]=(0,s.useState)(0),[j,I]=(0,s.useState)(0),[_,w]=(0,s.useState)(0),[C,k]=(0,s.useState)([]),H=(0,s.useRef)(C),[Y,A]=(0,s.useState)([]),[N,S]=(0,s.useState)(null),[$,D]=(0,s.useState)(0),[z,E]=(0,s.useState)({init:"bird"}),[W,R]=(0,s.useState)([]),B=(0,s.useRef)(null),[F,T]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=g.length;k((t=>{const n=t.length;return t.concat([...Array(e-n)].map(((e,t)=>({id:0,top:0,left:0,height:0,colId:0,offsetY:0,data:g[n+t]}))))})),T(!1),setTimeout((()=>{T(!0)}),69)}),[g]),(0,s.useEffect)((()=>{w(null==t?p||36:Math.floor((t-n*u)/(u-1))),v(t||p*(u-1)+n*u)}),[t,p,u,n]),(0,s.useEffect)((()=>{if(W.filter((e=>e)).length!==g.length)return;const e=g.length,t=B.current;if(null==t)return;const s=Array.prototype.map.call(t.childNodes,(e=>e.clientHeight)),i=[0];for(let d=1;d<u;++d)i.push(i[d-1]+n+_);const r=[];let o=0;const c=[],a=[],l=[];for(let n=0;n<u;++n)o=Math.max(o,s[n]),r.push(i[n]),c.push(0),l.push(n),a.push(n);for(let n=u;n<e;++n){const{minColId:e,minItemId:t}=d(u,a,c,s),p=c[t]+s[t]+f;o=Math.max(p+s[n],o),r.push(i[e]),c.push(p),l.push(e),a[e]=n}M(o),I(o);const p=[...Array(e)].map(((e,t)=>({id:t,top:c[t],left:r[t],height:s[t],colId:l[t],offsetY:0,data:g[t]})));k(p),H.current=p;const h=p.reduce(((e,t)=>{const n=t.colId;return e[n]=e[n].concat(t),e}),[...Array(u)].fill([]));A(h)}),[B,y,n,u,_,f,g,W]);const P=(0,s.useCallback)((e=>{const t=new Map(e);k((e=>{const n=e.map((e=>{const n=null==t.get(e.id)?e.offsetY:t.get(e.id);return{...e,offsetY:n}}));return H.current=n,n}))}),[]),X=(0,s.useCallback)((()=>S(null)),[]),L=(0,s.useCallback)((e=>S(e)),[]),q=(0,s.useCallback)((e=>()=>{R((t=>{const n=[...t];return n[e]=!0,n}))}),[]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{ref:B,className:i,style:{width:`${y}px`,height:`${b}px`},children:[C.map(((e,t)=>(0,l.jsx)(s.Fragment,{children:(0,l.jsx)("div",{className:`${r} ${e.id===N?c:""} ${F?o:""}`,style:{position:"absolute",transform:`translateY(${e.offsetY}px)`,left:`${e.left}px`,top:`${e.top}px`,width:`${n}px`},children:m&&(0,l.jsx)(m,{...e.data,info:e,colId:e.colId,selected:N===e.id,selectedItem:N,setItemOffsetYs:P,itemsDividedByCols:Y,itemInfos:C,deselect:X,select:L,placeH:h,gapY:f,gapX:p,setPlaceTop:D,setPlaceData:E,originH:j,setH:M,readyToCalc:q(t)})})},t))),x&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:a,style:{top:`${$}px`,height:`${h}px`},children:(0,l.jsx)(x,{selectedItem:N,setItemOffsetYs:P,itemsDividedByCols:Y,itemInfosRef:H,deselect:X,select:L,placeH:h,gapY:f,gapX:p,setPlaceTop:D,setPlaceData:E,originH:j,setH:M,context:[z]})})})]})})};function d(e,t,n,s){let i=n[t[0]]+s[t[0]],r=t[0],o=0;for(let c=1;c<e;++c){const e=t[c],a=n[e]+s[e];a<i&&(i=a,r=e,o=c)}return{minItemId:r,minColId:o}}function p(e,t){let{gap:n,itemW:i}=t;return function(t){const[r,o]=(0,s.useState)(null),c=function(){const[e,t]=(0,s.useState)({width:void 0,height:void 0});return(0,s.useEffect)((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}();return(0,s.useEffect)((()=>{const e=c.width;if(null==e)return;const t=f(i,i,n,e);o(t)}),[c]),r?(0,l.jsx)(e,{...t,colNum:r}):(0,l.jsx)(l.Fragment,{children:"Now Loading..."})}}function f(e,t,n,s){return e>s?0:1+f(e+n+t,t,n,s)}var h=n(578);const m=e=>{let{mGap:t,gap:n,mItemW:i,itemW:r,...o}=e;const c=(0,h.A)(),[a,d]=(0,s.useState)(n),[f,m]=(0,s.useState)(r),g=(0,s.useMemo)((()=>p(u,{gap:a,itemW:f})),[a,f]);return(0,s.useEffect)((()=>{c?(d(t),m(i)):(d(n),m(r))}),[c,t,n,i,r]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(g,{...o,gapX:a,gapY:a,itemWidth:f})})},g=m,x=(0,s.memo)(m)},29:(e,t,n)=>{n.d(t,{iI:()=>r,r9:()=>o});var s=n(677);const i=[{id:0,title:"Enjoying a cup of coffee",src:"https://images.unsplash.com/photo-1631016800696-5ea8801b3c2a?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=400&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzM2Mzg4Ng&ixlib=rb-1.2.1&q=80&w=400"},{id:1,title:"Magical winter sunrise",src:"https://images.unsplash.com/photo-1618824834718-92f8469a4dd1?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=400&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzM2NDAzMw&ixlib=rb-1.2.1&q=80&w=400"},{id:2,title:"Dalmatian and pumpkins",src:"https://images.unsplash.com/photo-1633289944756-6295be214e16?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=400&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzM2NDA3Nw&ixlib=rb-1.2.1&q=80&w=400"},{id:3,title:"Fall into Autumn \ud83c\udf42\ud83d\udc36",src:"https://images.unsplash.com/photo-1633172905740-2eb6730c95b4?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=400&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTYzMzM2NDEwMg&ixlib=rb-1.2.1&q=80&w=400"}];function r(e){return i.find((t=>t.id===e))}function o(){return i[(0,s.y)(0,i.length-1)].id}},121:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});const s="latest_content__DZRnn",i="latest_mobile__RQX9Z";var r=n(578),o=n(317),c=n(732),a=n(677),l=n(535),u=n(43),d=n(216),p=n(29),f=n(14),h=n(579);const m=function(e,t){let{onReachBottom:n,options:s={root:null,rootMargin:"20px",threshold:0}}=t;const{root:i,rootMargin:r,threshold:o}=s;return function(t){const{disabledIS:s}=t,c=(0,u.useRef)(null),a=(0,u.useRef)(null),l=(0,u.useCallback)((e=>{e[0].isIntersecting&&n()}),[]);return(0,u.useEffect)((()=>{if(s)return void(a.current&&a.current.disconnect());const e={root:i,rootMargin:r,threshold:o};return a.current=new IntersectionObserver(l,e),c.current&&a.current.observe(c.current),()=>{a.current&&a.current.disconnect()}}),[l,s]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(e,{...t}),(0,h.jsx)("div",{ref:c})]})}},g=()=>{const e=(0,r.A)(),t=(0,u.useRef)(!1),[n,g]=(0,u.useState)(!1),[x,y]=(0,u.useState)([]),v=(0,u.useMemo)((()=>(0,l.A)(d.sv)),[]),b=(0,u.useCallback)((()=>{const e=[...Array(25)].map(((e,t)=>({id:(0,a.v)(),h:(0,a.y)(69,361),event:0===(0,a.y)(0,1),eventImgId:(0,p.r9)()})));y((t=>t.concat(e)))}),[]),M=(0,u.useCallback)((()=>{t.current&&(b(),console.log("ehrh >>"))}),[]),j=(0,u.useMemo)((()=>m(o.A,{onReachBottom:M})),[]);(0,u.useEffect)((()=>{b(),setTimeout((()=>{t.current=!0}),100)}),[]);const I=(0,u.useCallback)((()=>{g((e=>!e))}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:`${s} ${e?i:""}`,children:[(0,h.jsx)("h1",{children:"\u6700\u65b0"}),(0,h.jsx)("p",{children:"\u6700\u65b0\uff1a\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u6700\u65b0\u53d1\u73b0\u3002Get Back. Let It Go. Real Love."})]}),(0,h.jsx)("div",{style:{position:"fixed",zIndex:3,left:"18px",bottom:"5px"},children:(0,h.jsx)(f.A,{onClick:I,children:n?"\u5f00\u542f\u65e0\u9650\u6eda\u52a8":"\u7981\u6b62\u65e0\u9650\u6eda\u52a8"})}),(0,h.jsx)(j,{disabledIS:n,mGap:12,gap:36,mItemW:180,itemW:210,itemsData:x,ItemComp:c.A,PlaceComp:v,placeHeight:521}),n&&(0,h.jsx)("div",{style:{height:"99px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,h.jsx)(f.A,{onClick:b,children:"More"})})]})}},677:(e,t,n)=>{n.d(t,{v:()=>i,y:()=>s});const s=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),i=()=>[...Array(6)].map((()=>0===s(0,1)?"1234567890"[s(0,9)]:"qwertyuiopasdfghjklzxcvbnm"[s(0,25)])).join("")}}]);
//# sourceMappingURL=121.8d035c11.chunk.js.map