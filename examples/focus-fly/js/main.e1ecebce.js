"use strict";(self.webpackChunkcjs=self.webpackChunkcjs||[]).push([[179],{18:()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?o:String(o)),r)}var o}function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=function(e){return Object.prototype.toString.call(e)},o=function(e){return"[object Object]"===r(e)},i=function(e){return"[object Function]"===r(e)},u=function(){return document.activeElement},c=function(e){return"string"==typeof e?(t=e,document.querySelector(t)):e;var t},a=function(e){setTimeout(e,0)},l=function(e){return"Enter"===e.key||13===e.keyCode},s=function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode},d=function(e){return"Tab"===e.key||9===e.keyCode},f=function(e){return d(e)&&!e.shiftKey},v=function(e){return d(e)&&e.shiftKey},p=function(e){var t;e.focus(),(t=e).tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&e.select()},y=function(e){null==e?a((function(){return e&&p(e)})):p(e)},h=function(e,t,r,o){for(var u,c=!1,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(u=a()).done;){var l=u.value;if(i(l))c=l(t,r,o);else{var s=l.shift,d=l.meta,f=l.alt,v=l.ctrl,p=l.commonKey;c=(s&&t.shiftKey||!(s||t.shiftKey))&&(d&&t.metaKey||!(d||t.metaKey))&&(f&&t.altKey||!(f||t.altKey))&&(v&&t.ctrlKey||!(v||t.ctrlKey))&&(null==p||p===t.key)}if(c)return c}return c},m=function(e,t){return[].concat(e).map((function(e){return"string"==typeof e?function(e){for(var t,n=e.indexOf("-"),r=-1===n?e:0===n?"-":e.slice(0,n),o=e.replace(r,""),i=[r],u=/-(?:-|[^-]+)/g;t=u.exec(o);)i.push(t[0].slice(1));for(var c=!1,a=!1,l=!1,s=!1,d=null,f=new Map([["Shift",function(){return c=!0}],["Meta",function(){return a=!0}],["Alt",function(){return l=!0}],["Control",function(){return s=!0}]]),v=0;v<i.length;++v){var p=f.get(i[v]);null==p?d=i[v]:p()}return{shift:c,meta:a,alt:l,ctrl:s,commonKey:d}}(e):null!=e?e:t}))},g=function(e,t,n){var r;return null!==(r=c(e))&&void 0!==r?r:function(e,t){if(null==e||null==t)return null;if(e.contains(t))return e;if(t.contains(e))return t;var n=new Range;return n.setStartBefore(e),n.setEndAfter(t),n.collapsed&&(n.setStartBefore(t),n.setEndAfter(e)),n.commonAncestorContainer}(t,n)},I=function(e){var t=e.map((function(e){return c(e)})).filter((function(e){return null!=e})),n=t[0],r=t.slice(-1)[0];return{list:t,head:n,tail:r}},k=function(e,t,n){return t?n:c(e)},E=function(e,t,n,r){var o=I(t),i=o.list,u=o.head,c=o.tail,a=g(e,u,c);return{root:a,list:i,head:u,tail:c,cover:k(n,r,a)}},b=function(e,n){var r=Array.isArray(n.node)?n.node.map((function(e){return t({},n,{node:e})})):n;return e.concat(r)},_=function(e,n,r,u,c,a){var l,d,f=[].concat(e).filter((function(e){return null!=e})).map((function(e){return o(e)?e:{node:e}})).map((function(e){var n,r;return t({},e,{preventDefault:null===(n=e.preventDefault)||void 0===n||n,delay:null!==(r=e.delay)&&void 0!==r?r:a,type:void 0===e.type?[null==e.key?"":"keydown",null==e.node?"":"click"].filter((function(e){return""!==e})):[].concat(e.type),key:m(e.key)})})).reduce(b,[]),v=i(n)?n:!0===n?null!==(l=null===(d=f[0])||void 0===d?void 0:d.on)&&void 0!==l?l:function(){}:n;return[i(v)?{node:null,key:[s],on:v,target:r?u:c,type:["keydown"]}:null].concat(f).filter((function(e){return null!=e}))},w=function(e,t){var n=function(){var n=i(e),o=n&&e(t),u=n&&"[object Promise]"===r(o)&&"function"==typeof o.then,c=n&&!u;return{promiseDelay:u,callbackDelay:c,commonDelay:!u&&!c,delayRes:o}}(),o=n.promiseDelay,u=n.callbackDelay,c=n.commonDelay,a=n.delayRes;o?a.then(t):u||c&&t()},x=function(e,t,n,r,o,u,a,l){var s=function(e){return null==e||!0===e};if(s(e))return f();if(i(e)){var d=e({e:l,list:n,cover:t,root:r,last:n[u],lastI:u});return s(d)?f():d}return c(e);function f(){return o?t:a}},L=function(){function e(){this.cache=[],this.isEmpty=!0}var t=e.prototype;return t.push=function(e,t,n){this.isEmpty=!1,this.cache.push({node:e,type:t,handler:n})},t.clean=function(){this.cache=[],this.isEmpty=!0},t.addListeners=function(){this.cache.forEach((function(e){var t;return null===(t=e.node)||void 0===t?void 0:t.addEventListener(e.type,e.handler)}))},t.removeListeners=function(){this.cache.forEach((function(e){var t;return null===(t=e.node)||void 0===t?void 0:t.removeEventListener(e.type,e.handler)})),this.clean()},e}(),B=function(){function e(){this.cache=new Map}var t=e.prototype;return t.has=function(e){return this.cache.has(e)},t.push=function(e,t,n){this.has(e)||(t.addEventListener("keydown",n),this.cache.set(e,{node:t,handler:n}))},t.remove=function(e){var t=this;[].concat(e).forEach((function(e){return t.cache.get(e).node.removeEventListener("keydown",t.cache.get(e).handler)}))},e}(),A=function(){function t(){this.data=[],this.head=null,this.tail=null,this.prevI=-1,this.curI=-1,this._prev=null,this._cur=null,this.rangeBeforePrevCallback=!1,this.rangeBeforeNextCallback=!1}var n,r,o=t.prototype;return o.update=function(e){this.data.splice(0,this.data.length),Array.prototype.push.apply(this.data,e),this.head=e[0],this.tail=e.at(-1)},o.isEmpty=function(){return 0===this.data.length},o.has=function(e){return!!this.data[e]},o.record=function(e,t){this.recordPrev(this.cur,this.curI),this.recordCur(e,t)},o.recordRange=function(e){this.cur===e||null==this.cur&&null==e||this.record(e,-1)},o.recordPrev=function(e,t){this.prevI=t<0?-1:t,this.prev=e||null},o.recordCur=function(e,t){this.curI=t<0?-1:t,this.cur=e||null},o.recordSequenceByIdx=function(e){var t=this.data[e];this.curI===e||this.curI<0&&e<0||this.record(t,e)},n=t,(r=[{key:"prev",get:function(){return this._prev||this.data[this.prevI]||null},set:function(e){this._prev=e}},{key:"cur",get:function(){return this._cur||this.data[this.curI]||null},set:function(e){this._cur=e}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),T=function(){var e,n,r=0-((arguments.length<=0?void 0:arguments[0])instanceof Array),d=0+r<0||arguments.length<=0+r?void 0:arguments[0+r],T=1+r<0||arguments.length<=1+r?void 0:arguments[1+r],C=null!==(e=2+r<0||arguments.length<=2+r?void 0:arguments[2+r])&&void 0!==e?e:{};if(!(Array.isArray(T)&&T.length>1))throw new Error("请至少传入一个数组，数组至少包含两个可聚焦元素，用来表示列表的头和尾。");var P=C.sequence,S=C.loop,D=C.next,R=C.prev,j=C.trigger,N=C.entry,K=C.exit,F=C.onEscape,M=C.onClick,q=C.onMove,O=C.cover,$=C.initialActive,U=C.correctionTarget,H=C.delayToFocus,z=C.delayToBlur,G=C.removeListenersEachExit,J=void 0===G||G,Q=C.removeListenersEachEnter,V=C.addEntryListenersEachExit,W=void 0===V||V,X=C.stopPropagation,Y=void 0!==X&&X,Z=C.preventDefault,ee=C.manual,te=C.allowSafariToFocusAfterMousedown,ne=void 0===te||te,re=[].concat(N).filter((function(e){return null!=e})).map((function(e){return o(e)?e:{node:e}})).map((function(e){var n,r;return t({},e,{preventDefault:null===(n=e.preventDefault)||void 0===n||n,delay:null!==(r=e.delay)&&void 0!==r?r:H,type:void 0===e.type?[null==e.key?"":"keydown",null==e.node?"":"click"].filter((function(e){return""!=e})):[].concat(e.type),onExit:!0===e.onExit?e.on:e.onExit,key:m(e.key)})})).reduce(b,[]),oe=0===re.length,ie=new Set(re.map((function(e){return i(e.onExit)?e.node:null})).filter((function(e){return null!=e})).map((function(e){return c(e)}))),ue=c(j||(null===(n=re[0])||void 0===n?void 0:n.node)),ce=o(O)?O:{},ae=ce.node,le=ce.enterKey,se=ce.onEnter,de=ce.exit,fe=null!=O&&!1!==O&&!1!==ae,ve=fe&&(!0===O||!0===ae||null==ae),pe=[].concat(de).filter((function(e){return null!=e})).map((function(e){return o(e)?e:{key:e}})).map((function(e){var n;return t({},e,{target:null!==(n=e.target)&&void 0!==n?n:ue,key:m(e.key)})})),ye=fe&&0===pe.length,he=new A,me=null,ge=null;he.recordPrev(null,null!=$?$:-1);var Ie=o(D)?D:{key:D},ke=t({},Ie,{key:m(Ie.key,f)}),Ee=ke.key,be=ke.on,_e=o(R)?R:{key:R},we=t({},_e,{key:m(_e.key,v)}),xe=we.key,Le=we.on,Be=!1===F,Ae=!(null==S||S),Te=!!(D||R||P),Ce=null!=Z?Z:Te,Pe=!1,Se=!1,De=new L,Re=new L,je=new B;if(!ee&&(He(),(oe?[{}]:re).some((function(e){return!e.delay})))){var Ne=E(d,T,ae,ve),Ke=Ne.root,Fe=Ne.list,Me=Ne.cover;he.update(Fe),Ue(me=Ke,he,ge=Me)}var qe={enter:function(e){if(ue=ue||u(),e)return Oe({fromInvoke:!0},e.on,e.target,e.delay);for(var t=function(){var e=re[n],t=e.on,r=e.type,o=e.node,i=e.target,u=e.delay;if(null!=r&&r.some((function(e){return null==e||!1===e||"invoke"===e}))||null==o)return{v:Oe({fromInvoke:!0},t,i,u)}},n=0;n<re.length;++n){var r=t();if("object"==typeof r)return r.v}return Oe({fromInvoke:!0})},exit:function(e){var t=E(d,T,ae,ve),n=t.list,r=t.cover,o=t.root;if(e){var i=e.on,u=e.target;return v(c(u),i)}for(var a=_(K,F,fe,r,ue,z),l=function(){var e=a[s],t=e.on,n=e.type,r=e.target;if(null!=n&&n.some((function(e){return null==e||!1===e||"invoke"===e})))return{v:v(r,t)}},s=0;s<a.length;++s){var f=l();if("object"==typeof f)return f.v}function v(e,t){return he.isEmpty()&&he.update(n),$e({fromInvoke:!0},t,e,!1,r,he.data,o)}},removeListeners:function(){De.removeListeners(),Re.removeListeners()},removeListRelatedListeners:function(){De.removeListeners()},removeEntryListeners:function(){Re.removeListeners()},addEntryListeners:function(){He()},addListRelatedListeners:function(){var e=E(d,T,ae,ve),t=e.root,n=e.list,r=e.cover;he.isEmpty()&&he.update(n),Ue(t,he,r)},addForward:function(e,t){var n=null;if(i(t)){var r=E(d,T,ae,ve);n=t({root:r.root,list:r.list,head:r.head,tail:r.tail,cover:r.cover,curI:he.curI,prevI:he.prevI})}else n=t;var o=n,u=o.node,a=o.on,l=o.key,s=o.target,f=c(u),v=c(s),p=m(l);je.push(e,f,(function(e){h(p,e,he.prevI,he.curI)&&(e.preventDefault(),null==a||a(),y(v))}))},removeForward:function(e){je.remove(e)},updateList:function(e){var t=e.map((function(e){return c(e)})).filter((function(e){return null!=e}));he.update(t)},i:function(e){if(he.has(e)&&Pe){he.recordSequenceByIdx(e);var t=he.prev,n=he.prevI,r=he.cur,o=he.curI;return null==q||q({e:{fromI:!0},prev:t,prevI:n,cur:r,curI:o}),p(T[o]),e}return he.curI<0?he.prevI:he.curI}};return qe;function Oe(e,t,n,r,o,i){var u,c;function a(){if(he.isEmpty()){var t=I(T).list;he.update(t)}null==me&&(me=g(d,he.head,he.tail)),null==ge&&fe&&(ge=k(ae,ve,me)),ee||Ue(me,he,ge),!1!==n&&function(t,r,o){var i=r.data,u=r.prev,c=r.head,a=r.curI,l=x(n,t,i,o,fe,a,u||c,e);if(Te){var s=i.indexOf(l);if(s>-1){r.recordSequenceByIdx(s);var d=r.cur,f=r.curI;null==q||q({e,prev:null,cur:d,prevI:-1,curI:f}),Pe=!0}}else if(o.contains(l)&&l!==t){r.recordRange(l);var v=r.cur,p=r.curI;null==q||q({e,prev:null,cur:v,prevI:-1,curI:p}),Pe=!0}!fe||l!==t&&!0!==Pe||(Se=!0),y(l)}(ge,he,me)}Se||Pe||(o&&(null===(u=e.preventDefault)||void 0===u||u.call(e)),i&&(null===(c=e.stopPropagation)||void 0===c||c.call(e)),Promise.resolve(null==t?void 0:t(e)).then((function(e){w(r,a)})))}function $e(e,t,n,r,o,u,c,a,l,s){var d,f;if(!Pe||i(a)&&!a({e,prev:he.prev,cur:he.cur,prevI:he.prevI,curI:he.curI}))return!1;l&&(null===(d=e.preventDefault)||void 0===d||d.call(e)),s&&(null===(f=e.stopPropagation)||void 0===f||f.call(e)),Te?he.recordSequenceByIdx(-1):he.recordRange(null),Pe=!1;var v=x(n,o,u,c,fe,he.curI,ue,e);return v?function(){function n(){ee||(v!==o&&ze(),W&&He()),null==q||q({e,prev:he.prev,cur:null,prevI:he.prevI,curI:-1}),p(v)}Promise.resolve(null==t?void 0:t(e)).then((function(e){w(r,n)}))}():function(){function n(t){return function(n){ee||(ze(),W&&He()),null==q||q({e,prev:he.prev,cur:null,prevI:he.prevI,curI:-1}),t&&p(t)}}Promise.resolve(null==t?void 0:t(e)).then((function(e){if(!1!==v){var t=n(ue);w(r,t)}else n()()}))}()}function Ue(e,t,n){var r=t.data,o=t.head,m=t.tail;if(De.isEmpty){if(null==e)throw new Error("没有找到元素 "+d+"，您可以尝试 delayToFocus 选项，等待元素 "+d+" 渲染完毕后进行聚焦。");if(null==o||null==m)throw new Error("至少需要包含两个可以聚焦的元素，如果元素需要等待渲染，您可以尝试 delayToFocus 选项。");!function(){var o=!1,d=function(){return!!oe||Pe},g=Te?function(e){if(e.target!==n&&d()){var o=[t.curI,t.recordSequenceByIdx.bind(t)],i=o[0],u=o[1],c=Math.max(0,i),a=r.length,l=!1;if(h(Ee,e,t.prevI,t.curI)){var s=c+1,f=Ae?Math.min(a-1,s):s;f%=a,null==be||be({e,prev:r[c],cur:r[f],prevI:c,curI:f}),null==q||q({e,prev:r[c],cur:r[f],prevI:c,curI:f}),u(f),p(r[f]),l=!0}else if(h(xe,e,t.prevI,t.curI)){var v=c-1,y=Ae?Math.max(0,v):v;y=(y+a)%a,null==Le||Le({e,prev:r[c],cur:r[y],prevI:c,curI:y}),null==q||q({e,prev:r[c],cur:r[y],prevI:c,curI:y}),u(y),p(r[y]),l=!0}("Tab"===e.key||l)&&Ce&&e.preventDefault(),l&&Y&&e.stopPropagation()}}:function(o){var i=r[0],u=r.at(-1),c=o.target;if(c!==n&&d()){var a=!1,l=!1;f(o)?(t.recordRange(c),t.rangeBeforeNextCallback=!0,c===u&&(a=!0,Ae||p(i)),c===e&&(a=!0,p(i)),l=!0):v(o)&&(t.recordRange(c),t.rangeBeforePrevCallback=!0,c===i&&(a=!0,Ae||p(u)),c===e&&(a=!0,p(u)),l=!0),(a||l&&Ce)&&o.preventDefault(),l&&Y&&o.stopPropagation()}},I=function(e,t){var n=e.reduce((function(e,n){var r,o=e[0],u=e[1],a=e[2],l=e[3],s=e[4],d=e[5],f=function(e){var t;return null===(t=n.type)||void 0===t?void 0:t.includes(e)};return r=n.node,i(r)||null!=r&&t.contains(c(r))||null==r?(f("keydown")&&(o=o.concat(n)),f("click")&&(u=u.concat(n)),f("focus")&&(a=a.concat(n)),f("outlist")&&(d=d.concat(n))):(f("click")&&(l=l.concat(n)),f("focus")&&(s=s.concat(n)),f("outlist")&&(d=d.concat(n))),[o,u,a,l,s,d]}),new Array(6).fill([])),r=n[0],o=n[1],u=n[2],a=n[3],l=n[4],s=n[5];return{keyExits:r,clickExits:o,focusExits:u,hasClickExits:o.length>0,hasFocusExits:u.length>0,hasKeyExits:r.length>0,clickExits_wild:a,focusExits_wild:l,outListExits:s}}(_(K,F,fe,n,ue,z),e),k=I.keyExits,E=I.clickExits,b=I.focusExits,w=I.hasClickExits,x=I.hasFocusExits,L=I.hasKeyExits,B=I.clickExits_wild,A=I.focusExits_wild,T=I.outListExits,C=B.map((function(e){return[c(null==e?void 0:e.node),H(e)]})),P=A.map((function(e){return[c(null==e?void 0:e.node),G(e)]}));De.push(e,"focusin",(function(i){var u=i.target,a=i.relatedTarget;if(o)o=!1;else if(fe&&u===n)Se=!0;else if(fe&&!1===D&&!1===Se)y(n);else{if(t.rangeBeforePrevCallback||t.rangeBeforeNextCallback){var l;t.recordRange(u),t.rangeBeforePrevCallback=!1,t.rangeBeforeNextCallback=!1;var s=t.cur,d=t.prev;return null===(l=t.rangeBeforePrevCallback?be:Le)||void 0===l||l({e:i,prev:d,cur:s,prevI:-1,curI:-1}),void(null==q||q({e:i,prev:d,cur:s,prevI:-1,curI:-1}))}if(!1!==U&&!1===Pe&&!1===D&&(null==a||!e.contains(a))){var f,v=t.prev||t.head,p=null!==(f=null==U?void 0:U({list:r,cover:n,root:e,last:t.prev,lastI:t.prevI,e:i}))&&void 0!==f?f:v,h=c(p);m(h),y(h)}!1!==U||!1!==Pe||!1!==D||null!=a&&e.contains(a)||m(u)}function m(e){if(Te){var n=r.findIndex((function(t){return t===e}));n>-1&&(t.recordSequenceByIdx(n),null==q||q({e:i,prev:null,cur:t.cur,prevI:-1,curI:t.curI}),Pe=!0)}else t.recordRange(e),null==q||q({e:i,prev:null,cur:t.cur,prevI:-1,curI:t.curI}),Pe=!0}})),De.push(e,"focusout",(function(o){if(S)return S=!1;a((function(){var i=u(),a=!e.contains(i),l=i===n;if(o.target===n&&a)Se=!1;else{var s=null;(l||a)&&(s=function(t){for(var o=0;o<T.length;++o){var i=T[o],u=i.on,a=i.target,l=i.delay,s=i.preventDefault,d=i.stopPropagation;return $e(t,u,c(a),l,n,r,e,T[o].if,s,d)}}(o),Te?t.recordSequenceByIdx(-1):t.recordRange(null)),!1!==s&&(l?Pe=!1:a&&(Pe=!1,Se=!1))}}))})),e.contains(n)||null==n||(De.push(n,"focus",(function(){Se=!0})),De.push(n,"blur",(function(){R?R=!1:Se=!1}))),De.push(e,"keydown",(function(e){var t=!1;L&&(t=function(e){if(!(e.target===n||Be&&s(e)))for(var t=0;t<k.length;++t)if($(e,k[t]))return!0}(e)),t||g(e)})),De.push(e,"click",(function(e){!function(e){var n=e.target;if(Te){var o=r.findIndex((function(e){return e.contains(n)}));if(o>-1){var i=t.prev,u=t.prevI,c=t.curI;t.recordSequenceByIdx(o);var a=t.prev,l=t.prevI,s=t.cur,d=t.curI;c<0&&u!==o&&(a=i,l=u),null==M||M({e,prev:a,cur:s,prevI:l,curI:d}),c!==d&&(null==q||q({e,prev:a,cur:s,prevI:l,curI:d}))}}else{var f=t.prev,v=t.cur;t.recordRange(n);var p=t.prev,y=t.cur;null==v&&f!==n&&(p=f),null==M||M({e,prev:p,cur:y,prevI:-1,curI:-1}),v!==y&&(null==q||q({e,prev:p,cur:y,prevI:-1,curI:-1}))}}(e),w&&function(e){for(var t=0;t<E.length&&!N(e,E[t]);++t);}(e)})),De.push(e,"mousedown",(function(e){var t;D=!0,a((function(){return D=!1})),(!Te||Te&&(t=r.find((function(t){return t.contains(e.target)}))))&&(Pe=!0,fe&&(Se=!0),ne&&t&&void 0!==window.safari&&(p(t),e.preventDefault()))})),x&&De.push(e,"focusin",(function(e){for(var t=0;t<b.length&&!O(e,b[t]);++t);})),P.forEach((function(e){var t=e[0],n=e[1];De.push(t,"focus",n)})),C.forEach((function(e){var t=e[0],n=e[1];De.push(t,"click",n)})),null!=n&&De.push(n,"keydown",(function(e){if(e.target===n&&Se&&!Pe){if((null!=le?le:l)(e)&&!Pe)return e.preventDefault(),R=!0,Pe=!0,null==se||se(e),void(Te?(t.recordSequenceByIdx(Math.max(0,t.prevI)),p(t.cur),null==q||q({e,prev:null,cur:t.cur,prevI:-1,curI:t.curI})):(t.recordRange(null==t.prev?t.head:t.prev),p(t.cur),null==q||q({e,prev:null,cur:t.cur,prevI:-1,curI:-1})));for(var r=0;r<pe.length;++r){var i=pe[r],u=i.key,a=i.on,s=i.target,d=c(s);if(h(u,e,t.prevI,t.curI))return void v(e,a,d)}if(ye&&f(e))return o=!0,void p(m)}function v(e,t,n){null==t||t(e),n&&p(n),ze()}}));var S=!1;T&&ie.forEach((function(e){De.push(e,"mousedown",(function(e){return S=!0}))})),De.addListeners();var D=!1,R=!1;function j(r,o,u){var a=o.node,l=o.on,s=o.target,d=o.delay,f=o.preventDefault,v=o.stopPropagation,p=t.data,y=t.head,h=t.tail,m=i(a)?a({list:p,head:y,tail:h}):a,g=c(m),I=c(s);return!u(r,g,o.key)&&!1!==$e(r,l,I,d,n,p,e,o.if,f,v)}function N(e,t){return j(e,t,(function(e,t){return null!=t&&!t.contains(e.target)||null==t}))}function O(e,t){return j(e,t,(function(e,t){return null!=t&&e.target!==t||null==t}))}function $(e,n){return j(e,n,(function(e,n,r){return null!=n&&e.target!==n||!h(r,e,t.prevI,t.curI)}))}function H(e){return function(t){N(t,e)}}function G(e){return function(t){O(t,e)}}}()}}function He(){if(Re.isEmpty){for(var e=function(){var e=re[t],n=e.node,r=e.on,o=e.key,u=e.type,a=e.target,l=e.delay,s=e.onExit,f=e.preventDefault,v=e.stopPropagation,p=e.if,y=[].concat(u),m=["keydown","focus","click"],g=c(n);y.forEach((function(e){if(g&&m.includes(e)){var t="keydown"===e?function(e){return h(o,e,he.prevI,he.curI)}:function(e){return!0};Re.push(g,e,function(e){return function(t){i(p)&&!p({e:t,prev:he.prev,cur:he.cur,prevI:he.prevI,curI:he.curI})||!e(t)||function(e){if(Pe){if(i(s)){var t=E(d,T,ae,ve),n=t.list,o=t.cover,u=t.root;$e(e,s,a,!1,o,n,u,null,f,v)}}else Oe(e,r,a,l,f,v),Q&&!ee&&Re.removeListeners()}(t)}}(t))}}))},t=0;t<re.length;++t)e();Re.addListeners()}}function ze(){ye||J&&!ee&&De.removeListeners()}};T(["#firstTabbableNode","#lastTabbableNode"],{entry:"#entryBtn",exit:"#lastTabbableNode",onEscape:!0,delayToFocus:!0});const C=document.getElementById("dialog"),P=document.getElementById("dialog_mask"),S=document.getElementById("open");T(C,["#firstFocusBtn","#close"],{loop:!1,entry:{node:S,on:function(){C.classList.add("openedDialog"),C.classList.remove("closedDialog"),P.classList.remove("closed_mask"),S.ariaExpanded=!0},target:({list:e})=>e[0]},exit:{node:["#close","#firstFocusBtn","#confirm"],on:function(){C.classList.remove("openedDialog"),C.classList.add("closedDialog"),P.classList.add("closed_mask"),S.ariaExpanded=!1},type:["click","outlist"]},onEscape:!0});const D=document.getElementById("menu_btn"),R=document.getElementById("menu");function j(){D.classList.toggle("opened"),R.classList.toggle("opened"),D.ariaExpanded=!!D.classList.contains("opened")}T(R,["#hot_anchor","#scroll_anchor"],{onEscape:j,entry:{node:D,on:j,onExit:!0,target:({list:e})=>e[0]},exit:[{node:({head:e})=>e,type:"keydown",key:"Shift-Tab",on:j},{node:({tail:e})=>e,type:"keydown",key:"Tab",on:j,target:"#nav_link"},{type:"outlist",on:j,target:({e})=>!e?.relatedTarget?.id?.includes("h-")&&D}]}),T("#tab_list",["#tab_1","#tab_2","#tab_3","#tab_4","#tab_5"],{next:"ArrowRight",prev:"ArrowLeft",exit:[{key:"Tab",target:"#tags_code"},{key:"Shift-Tab",target:"#navigation_code"}],initialActive:1,removeListenersEachExit:!1,onMove:function({prev:e,cur:t,prevI:n,curI:r}){if(-1===n||-1===r)return;e.setAttribute("aria-selected","false"),t.setAttribute("aria-selected","true");const o=document.getElementById("tabpanel_"+(n+1)),i=document.getElementById("tabpanel_"+(r+1));o.classList.add("is-hidden"),i.classList.remove("is-hidden")}}),T("#songs_wrapper",["#song_1","#song_2","#song_3","#song_4","#song_5","#song_6","#song_7"],{next:"ArrowDown",prev:"ArrowUp",exit:[{key:"Tab",target:"#more_from"},{key:"Shift-Tab",target:"#grid_wrapper"},{type:"outlist",target:!1}],entry:{node:"#grid_wrapper",key:(e,t)=>("Tab"===e.key&&!e.shiftKey&&t>-1||"ArrowDown"===e.key||"ArrowUp"===e.key)&&"grid_wrapper"===e.target.id,type:"keydown"},onMove:function({cur:e,prev:t,curI:n}){t?.classList.remove("focused"),e?.classList.add("focused"),null!=K&&(N=-1===K.i()?0:K.i()),K?.removeListeners(),n>-1&&(K=function(e){const t=e+1;return T(`#song_${t}`,[`#s${t}_play`,`#s${t}_a`,`#s${t}_like`,`#s${t}_more`],{entry:[{node:`#song_${t}`,type:"focus"},{node:`#song_${t}`,key:["ArrowRight","ArrowLeft"],type:"keydown"}],next:"ArrowRight",prev:"ArrowLeft",exit:{type:"outlist",target:!1},initialActive:N,correctionTarget:!1,addEntryListenersEachExit:!1})}(n))},correctionTarget:({lastI:e,last:t})=>-1===e?"#grid_wrapper":t,removeListenersEachExit:!1}).addForward("grid",{node:"#grid_wrapper",key:(e,t,n)=>"Tab"===e.key&&!e.shiftKey&&-1===t&&-1===n,target:"#more_from"});let N=0,K=null;const F=document.getElementById("scroll_content"),M=T(F,[...document.getElementsByClassName("scroll_item")],{sequence:!0,entry:[{node:"#scroll_wrapper",type:"keydown",key:"Enter",if:({e})=>"scroll_wrapper"===e.target.id},{node:"#scroll_type",type:"keydown",key:["ArrowRight","Tab","Shift-Tab"],stopPropagation:!0},{node:"#scroll_top",type:"keydown",key:["ArrowLeft","Tab","Shift-Tab","Enter"," "],stopPropagation:!0,target({e:{key:e},list:t}){if("Enter"===e||" "===e)return t[0]},on({key:e}){"Enter"!==e&&" "!==e||H()}}],exit:[{key:"ArrowLeft",target:"#scroll_type"},{key:"ArrowRight",target:"#scroll_top"},{node:["#scroll_type","#scroll_top"],type:"click",target:!1,on(e){"scroll_top"===e.target.id&&H()}}],stopPropagation:!0,onEscape:!0,onMove:function({cur:e}){if(q?.removeListeners(),e&&"scroll_more"!==e.id){const t=e.getElementsByClassName("item_top")[0],n=e.getElementsByClassName("item_bottom")[0];q=T([t,n],{entry:{node:e,type:"keydown",key:"Enter"},exit:{key:"Escape",stopPropagation:!0},delayToFocus:!0,stopPropagation:!0})}},removeListenersEachExit:!1,correctionTarget({e:{relatedTarget:e}}){if(null==e||!F.contains(e))return"#scroll_wrapper"}});M.addForward("next_wrapper",{node:"#scroll_wrapper",key:"Tab",target:"#scroll_code"});let q=null;const O=document.getElementById("scroll_items");let $=!1;function U(){const e=Math.abs(F.scrollHeight-F.scrollTop-F.clientHeight)<1;if(!0===e&&e!==$){const e=z();O.appendChild(e);let t=[...document.getElementsByClassName("scroll_item")];M.updateList(t)}$=e}function H(){F.scroll({top:0,behavior:"smooth"})}function z(){const e=document.createDocumentFragment();for(let n=0;n<9;++n){const n=t("scroll_item","商品"),r=t("item_top","图片"),o=document.createElement("div");o.classList.add("item_center");const i=t("item_avator","店家"),u=t("item_avator_right","商品名称");o.append(i,u);const c=t("item_bottom","加入购物车");n.append(r,o,c),e.appendChild(n)}return e;function t(e,t){const n=document.createElement("div");return n.classList.add(e),n.setAttribute("tabindex",0),n.setAttribute("aria-label",t),n.setAttribute("role","button"),n}}F.addEventListener("scroll",U),scroll_type.addEventListener("click",(function(){const e=document.getElementsByClassName("to_click")[0];e.classList.toggle("hidden"),document.getElementsByClassName("to_scroll")[0].classList.toggle("hidden"),scroll_more.classList.toggle("hidden"),Array.from(e.classList).includes("hidden")?(F.removeEventListener("scroll",U),M.updateList([...document.getElementsByClassName("scroll_item"),document.getElementById("scroll_more")])):(F.addEventListener("scroll",U),M.updateList([...document.getElementsByClassName("scroll_item")]))})),scroll_more.addEventListener("click",(function(e){const t=z();O.appendChild(t);const n=[...document.getElementsByClassName("scroll_item"),document.getElementById("scroll_more")];M.updateList(n),e.stopPropagation()})),scroll_top.addEventListener("click",(function(e){H(),e.stopPropagation()}))}},e=>{e(e.s=18)}]);