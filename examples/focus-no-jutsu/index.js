!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var e=t.focusBagel,r=t.focusBagel=n();r.noConflict=function(){return t.focusBagel=e,r}}())}(this,(function(){"use strict";function t(){t=function(){return n};var n={},e=Object.prototype,r=e.hasOwnProperty,o=Object.defineProperty||function(t,n,e){t[n]=e.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{l({},"")}catch(t){l=function(t,n,e){return t[n]=e}}function f(t,n,e,r){var i=n&&n.prototype instanceof d?n:d,u=Object.create(i.prototype),a=new D(r||[]);return o(u,"_invoke",{value:x(t,e,a)}),u}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var v={};function d(){}function p(){}function y(){}var h={};l(h,u,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==e&&r.call(g,u)&&(h=g);var E=y.prototype=d.prototype=Object.create(h);function k(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function e(o,i,u,a){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,u,a)}),(function(t){e("throw",t,u,a)})):n.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return e("throw",t,u,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new n((function(n,o){e(t,r,n,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,e){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(e.method=o,e.arg=i;;){var u=e.delegate;if(u){var a=b(u,e);if(a){if(a===v)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var c=s(t,n,e);if("normal"===c.type){if(r=e.done?"completed":"suspendedYield",c.arg===v)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r="completed",e.method="throw",e.arg=c.arg)}}}function b(t,n){var e=n.method,r=t.iterator[e];if(void 0===r)return n.delegate=null,"throw"===e&&t.iterator.return&&(n.method="return",n.arg=void 0,b(t,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),v;var o=s(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function j(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=y,o(E,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:p,configurable:!0}),p.displayName=l(y,c,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},k(w.prototype),l(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var u=new w(f(t,e,r,o),i);return n.isGeneratorFunction(e)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},k(E),l(E,c,"Generator"),l(E,u,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var r in n)e.push(r);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=I,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,r){return u.type="throw",u.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),v},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),j(e),v}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;j(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:I(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),v}},n}function n(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function e(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var u=t.apply(e,r);function a(t){n(u,o,i,a,c,"next",t)}function c(t){n(u,o,i,a,c,"throw",t)}a(void 0)}))}}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},r.apply(this,arguments)}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=function(t){return Object.prototype.toString.call(t)},a=function(t){return"[object Object]"===u(t)},c=function(t){return"[object Function]"===u(t)},l=function(t){return"string"==typeof t?(n=t,document.querySelector(n)):t;var n},f=function(t){return"Enter"===t.key||13===t.keyCode},s=function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode},v=function(t){return"Tab"===t.key||9===t.keyCode},d=function(t){return v(t)&&!t.shiftKey},p=function(t){return v(t)&&t.shiftKey},y=function(t){var n;return t.focus(),(n=t).tagName&&"input"===n.tagName.toLowerCase()&&"function"==typeof n.select&&t.select(),!0},h=function(){var n=e(t().mark((function n(e){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){null==e?setTimeout((function(){return t(e&&y(e))}),0):t(y(e))})));case 1:case"end":return t.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),m=function(t,n,e){var r,o=n.map((function(t){return l(t)})).filter((function(t){return null!=t})),i=o[0],u=o.slice(-1)[0],a=null!==(r=l(t))&&void 0!==r?r:function(t,n){if(null==t||null==n)return null;if(t.contains(n))return t;if(n.contains(t))return n;var e=new Range;return e.setStartBefore(t),e.setEndAfter(n),e.collapsed&&(e.setStartBefore(n),e.setEndAfter(t)),e.commonAncestorContainer}(i,u);return{rootNode:a,subNodes:o,head:i,tail:u,coverNode:!0===e?a:l(e)}},g=function(t,n,e,o,i,u){var a,f,v,d,p,y,h,m,g,E,k,w,x=[].concat(t).filter((function(t){return null!=t})).map((function(t){return r({},t,{type:void 0===t.type?[null==t.key?"":"keydown",null==t.node?"":"click"].filter((function(t){return""!==t})):[].concat(t.type)})})),b=c(n)?n:!0===n?null!==(a=null===(f=x[0])||void 0===f?void 0:f.on)&&void 0!==a?a:function(){}:n,L=[c(b)?{node:null,key:s,on:b,target:e?o:i,type:["keydown"]}:null].concat(x).filter((function(t){return null!=t}));return r({exits:L},(v=L.reduce((function(t,n){var e,r,o,i,a,c,f,s=t[0],v=t[1],d=t[2],p=t[3],y=t[4],h=t[5];return null!=(f=n.node)&&u.contains(l(f))||null==f?(null!==(e=n.type)&&void 0!==e&&e.includes("keydown")&&(s=s.concat(n)),null!==(r=n.type)&&void 0!==r&&r.includes("click")&&(v=v.concat(n)),null!==(o=n.type)&&void 0!==o&&o.includes("focus")&&(d=d.concat(n))):(null!==(i=n.type)&&void 0!==i&&i.includes("keydown")&&(p=p.concat(n)),null!==(a=n.type)&&void 0!==a&&a.includes("click")&&(y=y.concat(n)),null!==(c=n.type)&&void 0!==c&&c.includes("focus")&&(h=h.concat(n))),[s,v,d,p,y,h]}),new Array(6).fill([])),d=v[0],p=v[1],y=v[2],h=v[3],m=v[4],g=v[5],E=p.length>0,k=y.length>0,w=d.length>0,{keyExits:d,clickExits:p,focusExits:y,hasClickExits:E,hasFocusExits:k,hasKeyExits:w,keyExits_wild:h,clickExits_wild:m,focusExits_wild:g}))},E=function(t,n){var e=c(t),r=e&&t((function(){})),o=e&&"[object Promise]"===u(r),i=e&&!o,a=(null==n||!0===t)&&!o&&i;return{promiseDelay:o,callbackDelay:i,commonDelay:a,isDelay:o||i||a}},k=function(){var n=e(t().mark((function n(e,r,o,i,u){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,i((function(){}));case 3:u(),t.next=7;break;case 6:r?i(u):o&&u();case 7:case"end":return t.stop()}}),n)})));return function(t,e,r,o,i){return n.apply(this,arguments)}}(),w=function(t,n,e,r,o,i){return void 0===i&&(i=0),null==t?o?n:e[i]:c(t)?t({list:e,cover:n,root:r,last:e[i],lastI:i}):l(t)};return function(){var n,o,u=0-((arguments.length<=0?void 0:arguments[0])instanceof Array),c=0+u<0||arguments.length<=0+u?void 0:arguments[0+u],v=1+u<0||arguments.length<=1+u?void 0:arguments[1+u],x=null!==(n=2+u<0||arguments.length<=2+u?void 0:arguments[2+u])&&void 0!==n?n:{},b=x.manual,L=x.loop,j=x.next,D=x.prev,I=x.trigger,O=x.enter,_=x.exit,N=x.onEscape,P=x.onClick,S=x.cover,T=void 0!==S&&S,A=x.delayToFocus,F=x.delayToBlur,C=x.removeListenersEachExit,G=void 0===C||C,B=x.removeListenersEachEnter;x.demo;var K=a(T)?T:!0===T?{}:{node:T?c:null},M=K.node,Y=void 0===M?c||!0:M,q=K.enterKey,R=K.onEnter,U=K.exit,$=!!Y,z=[].concat(O).filter((function(t){return null!=t})).map((function(t){return r({},t,{type:void 0===t.type?[null==t.key?"":"keydown",null==t.node?"":"click"].filter((function(t){return""!=t})):[].concat(t.type)})})),H=l(I||(null===(o=z[0])||void 0===o?void 0:o.node)),J=[].concat(U).filter((function(t){return null!=t})).map((function(t){var n;return r({},t,{target:null!==(n=t.target)&&void 0!==n?n:H})})),Q=$&&0===J.length,V=!1===N,W=a(j)?j:{key:j},X=W.key,Z=W.on,tt=a(D)?D:{key:D},nt=tt.key,et=tt.on,rt=m(c,v,Y),ot=rt.rootNode,it=rt.subNodes,ut=rt.head,at=rt.tail,ct=rt.coverNode,lt=!(null==L||L),ft=!!(X||nt||b),st=0,vt=!1,dt=!1,pt=!1,yt=!1;Ot();for(var ht,mt=null,gt=null,Et=null,kt=i(z.length>0?z:[{}]);!(ht=kt()).done;){var wt,xt=ht.value,bt=xt.target,Lt=xt.delay;if(Lt=null!==(wt=Lt)&&void 0!==wt?wt:A,!E(Lt,w(bt,ct,it,ot,$)).isDelay){It(ot,it,ut,at,ct);break}}return{enter:function(){H=H||document.activeElement;for(var t,n=function(){var n=t.value,e=n.on,r=n.type,o=n.node,i=n.target,u=n.delay;(null!=r&&r.some((function(t){return null==t||!1===t||"invoke"===t}))||null==o)&&jt({fromInvoke:!0},e,i,u)},e=i(z);!(t=e()).done;)n()},exit:function(){for(var t,n=function(){var n=t.value,e=n.on,r=n.type,o=n.target;o=l(o);var i,u;if(null!=r&&r.some((function(t){return null==t||!1===t||"invoke"===t})))return o?{v:null===(i=mt)||void 0===i?void 0:i({fromInvoke:!0},e,o)}:{v:null===(u=gt)||void 0===u?void 0:u({fromInvoke:!0},e,o)}},e=i(Et);!(t=e()).done;){var r=n();if("object"==typeof r)return r.v}},i:function(){return st}};function jt(t,n,e,r){return Dt.apply(this,arguments)}function Dt(){return Dt=e(t().mark((function n(e,r,o,i){var u,a,l,f,s,d,p;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p=function(t,n,e){var r=w(o,t,n,e,$,st);h(r)},d=function(){var t=m(c,v,Y),n=t.rootNode,e=t.subNodes,r=t.head,o=t.tail,i=t.coverNode;It(n,e,r,o,i),p(i,e,n)},!pt&&!dt){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,null==r?void 0:r(e);case 6:i=null!==(u=i)&&void 0!==u?u:A,a=i?E(i,w(o,ct,it,ot,$,st)):{},l=a.promiseDelay,f=a.callbackDelay,s=a.commonDelay,a.isDelay?k(l,f,s,i,d):(It(ot,it,ut,at,ct),p(ct,it,ot));case 9:case"end":return t.stop()}}),n)}))),Dt.apply(this,arguments)}function It(n,r,o,u,a){if(!vt){if(vt=!0,null==n)throw new Error("没有找到元素 "+c+"，您可以尝试 delayToFocus 选项，等待元素 "+c+" 渲染完毕后进行聚焦。");if(null==o||null==u)throw new Error("至少需要包含两个可以聚焦的元素，如果元素需要等待渲染，您可以尝试 delayToFocus 选项。");var v=ft?function(t,n,e,r,o,i,u,a){return function(c){if(c.target!==a){var l=n(),f=l[0],s=l[1],v=t.length;if((null!=r?r:d)(c)){var h=f+1,m=e?Math.min(v-1,h):h;m%=v,null==i||i({e:c,prev:t[f],cur:t[m],prevI:f,curI:m}),c.preventDefault(),y(t[m]),s(m),c.stopImmediatePropagation()}else if((null!=o?o:p)(c)){var g=f-1,E=e?Math.max(0,g):g;E=(E+v)%v,null==u||u({e:c,prev:t[f],cur:t[E],prevI:f,curI:E}),c.preventDefault(),y(t[E]),s(E),c.stopImmediatePropagation()}}}}(r,(function(){return[st,function(t){return st=t}]}),lt,X,nt,Z,et,a):function(t,n,e,r,o,i){return function(u){var a=u.target;a!==i&&(d(u)?(u.stopImmediatePropagation(),null==r||r({e:u}),a===n&&(u.preventDefault(),e||y(t))):p(u)&&(u.stopImmediatePropagation(),null==o||o({e:u}),a===t&&(u.preventDefault(),e||y(n))))}}(o,u,lt,Z,et,a),h=g(_,N,$,a,H,n),m=h.exits,w=h.keyExits,x=h.clickExits,b=h.focusExits,L=h.hasClickExits,j=h.hasFocusExits,D=h.hasKeyExits,I=h.keyExits_wild,O=h.clickExits_wild,S=h.focusExits_wild,T=I.map((function(t){return[l(null==t?void 0:t.node),bt(t)]})),A=O.map((function(t){return[l(null==t?void 0:t.node),wt(t)]})),C=S.map((function(t){return[l(null==t?void 0:t.node),xt(t)]}));!function(){n.addEventListener("focusin",B),n.addEventListener("focusout",K),n!==a&&null!=a&&(a.addEventListener("focus",M),a.addEventListener("blur",Y));n.addEventListener("keydown",v),ft&&n.addEventListener("click",U),L&&n.addEventListener("click",rt),j&&n.addEventListener("focusin",it),D&&n.addEventListener("keydown",at),C.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.addEventListener)||void 0===n?void 0:n.call(e,"focus",r)})),A.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.addEventListener)||void 0===n?void 0:n.call(e,"click",r)})),T.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.addEventListener)||void 0===n?void 0:n.call(e,"click",r)})),null==a||a.addEventListener("keydown",W),Q&&(null==u||u.addEventListener("focus",z))}(),mt=ct,gt=ht,Et=m}function B(){dt=!0}function K(){dt=!1}function M(){pt=!0}function Y(){pt=!1}function U(t){var n=t.target,e=r.findIndex((function(t){return t.contains(n)}));e>-1&&(null==P||P({e:t,prev:r[st],cur:r[e],prevI:st,curI:e}),st=e)}function z(t){var e=t.relatedTarget;e===a||n.contains(e)||y(a)}function W(t){if(t.target===a){if((null!=q?q:f)(t))return t.preventDefault(),null==R||R(t),void y(r[st]);for(var n,e=i(J);!(n=e()).done;){var o=n.value,c=o.key,s=o.on,v=o.target,h=l(v);if(null!=c&&c(t))return void m(t,s,h)}if(Q){if(d(t))return void y(u);if(p(t))return void y(a)}}function m(t,n,e){null==n||n(t),e&&y(e),Lt()}}function tt(t,n){var e=n.node,r=n.on,o=n.target,i=n.delay,u=l(e),a=l(o);return!(null!=u&&!u.contains(t.target)||null==u)&&(a?ct(t,r,a,i):ht(t,r,a,i),!0)}function rt(t){for(var n,e=i(x);!(n=e()).done;){if(tt(t,n.value))break}}function ot(t,n){var e=n.node,r=n.on,o=n.target,i=n.delay,u=l(e),a=l(o);return(null==u||t.target===u)&&null!=u&&(a?ct(t,r,a,i):ht(t,r,a,i),!0)}function it(t){for(var n,e=i(b);!(n=e()).done;){if(ot(t,n.value))break}}function ut(t,n){var e=n.key,r=n.node,o=n.target,i=n.on,u=n.delay,a=l(r),c=l(o);if(null!=a&&t.target!==a)return!1;if(null!=e&&e(t)){if(!c){var f=ht(t,i,c,u);return f&&t.stopImmediatePropagation(),f}if(e(t)){var s=ct(t,i,c,u);return s&&t.stopImmediatePropagation(),s}}}function at(t){if(!(t.target===a||V&&s(t)))for(var n,e=i(w);!(n=e()).done;){if(ut(t,n.value))break}}function ct(t,n,e,r){return yt.apply(this,arguments)}function yt(){return yt=e(t().mark((function n(e,r,o,i){var u,c,l,f,s,v,d;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(){y(o),o!==a&&Lt(),Ot()},e.preventDefault(),i=null!==(u=i)&&void 0!==u?u:F,c=i?E(i,o):{},l=c.promiseDelay,f=c.callbackDelay,s=c.commonDelay,v=c.isDelay,t.next=6,null==r?void 0:r(e);case 6:v?k(l,f,s,i,d):d();case 7:case"end":return t.stop()}}),n)}))),yt.apply(this,arguments)}function ht(t,n,e,r){return kt.apply(this,arguments)}function kt(){return kt=e(t().mark((function n(e,r,o,i){var u,c,l,f,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!1!==o){t.next=7;break}return t.next=4,null==r?void 0:r(e);case 4:return Lt(),Ot(),t.abrupt("return");case 7:if(!$){t.next=13;break}return t.next=10,null==r?void 0:r(e);case 10:y(a),t.next=18;break;case 13:return u=function(){H&&y(H),Lt(),Ot()},t.next=16,null==r?void 0:r(e);case 16:c=E(i,o),l=c.promiseDelay,f=c.callbackDelay,s=c.commonDelay,c.isDelay?k(l,f,s,i,u):u();case 18:case"end":return t.stop()}}),n)}))),kt.apply(this,arguments)}function wt(t){return function(n){tt(n,t)}}function xt(t){return function(n){ot(n,t)}}function bt(t){return function(n){n.target!==a&&(V&&s(n)||ut(n,t))}}function Lt(){G&&(vt=!1,n.removeEventListener("focusin",B),n.removeEventListener("focusout",K),null==a||a.removeEventListener("focus",M),null==a||a.removeEventListener("blur",Y),n.removeEventListener("keydown",v),n.removeEventListener("click",U),n.removeEventListener("click",rt),n.removeEventListener("focusin",it),n.removeEventListener("keydown",at),C.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.removeEventListener)||void 0===n?void 0:n.call(e,"focus",r)})),A.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.removeEventListener)||void 0===n?void 0:n.call(e,"click",r)})),T.forEach((function(t){var n,e=t[0],r=t[1];return null==e||null===(n=e.removeEventListener)||void 0===n?void 0:n.call(e,"click",r)})),null==a||a.removeEventListener("keydown",W),null==u||u.removeEventListener("focus",z))}}function Ot(){if(!yt){yt=!0;for(var t,n=[],e=function(){var e=t.value,r=e.node,i=e.on,u=e.key,a=e.type,c=e.target,f=e.delay,s=[].concat(a),v=["keydown","focus","click"],d=l(r);function p(t){null!=u&&u(t)&&(t.preventDefault(),jt(t,i,c,f),o())}function y(t){jt(t,i,c,f),o()}s.forEach((function(t){if(d&&v.includes(t)){var e="keydown"===t?p:y;d.addEventListener(t,e),n.push({node:d,type:t,handler:e})}}))},r=i(z);!(t=r()).done;)e()}function o(){B&&(yt=!1,n.forEach((function(t){return t.node.removeEventListener(t.type,t.handler)})))}}}}));
//# sourceMappingURL=focus-bagel.umd.min.js.map
