<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="google-site-verification" content="" />
  <meta name="referrer" content="unsafe-url">
  
  <title>é˜…è¯»é¡¹ç›® Lodash è®°å½•</title>
  <meta name="author" content="wsWmsword">
  <meta name="description" content="Pain is temporary Pride is forever">
  
  
  <meta property="og:title" content="é˜…è¯»é¡¹ç›® Lodash è®°å½•"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:site_name" content="Strawberry Fields"/>
  <link href="/apple-touch-icon-precomposed.png" sizes="180x180" rel="apple-touch-icon-precomposed">
  <link rel="alternate" href="/atom.xml" title="Strawberry Fields" type="application/atom+xml">
  <link rel="stylesheet" href="/css/m.min.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <a id="top"></a>
  <div id="main">
    <div class="main-ctnr">
      <div class="behind">
  <a href="/" class="back black-color">
    <svg class="i-close" viewBox="0 0 32 32" width="22" height="22" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
        <path d="M2 30 L30 2 M30 30 L2 2"></path>
    </svg>
  </a>
  
    <div class="description">
      &nbsp;éƒéƒé’é’ é•¿è¿‡åƒå¯»
    </div>
    
</div>


  <article class="standard post">
    <div class="title">
      
  
    <h1 class="page-title center">
        é˜…è¯»é¡¹ç›® Lodash è®°å½•
    </h1>
  


    </div>
    <div class="meta center">
      <time datetime="2022-07-30T04:18:09.000Z" itemprop="datePublished">
  <svg class="i-calendar" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
    <path d="M2 6 L2 30 30 30 30 6 Z M2 15 L30 15 M7 3 L7 9 M13 3 L13 9 M19 3 L19 9 M25 3 L25 9"></path>
  </svg>
  &nbsp;
  2022-07-30
</time>


    
    &nbsp;
    <svg class="i-tag" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
      <circle cx="24" cy="8" r="2"></circle>
      <path d="M2 18 L18 2 30 2 30 14 14 30 Z"></path>
    </svg>
    &nbsp;
    <a href="/categories/ç¬”è®°æœ¬/">ç¬”è®°æœ¬</a>





    </div>
    <hr>
    
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#internal"><span class="toc-text">.internal</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#toKey"><span class="toc-text">toKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash"><span class="toc-text">Hash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MapCache"><span class="toc-text">MapCache</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SetCache"><span class="toc-text">SetCache</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#strictIndexOf"><span class="toc-text">?strictIndexOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#baseIsNaN"><span class="toc-text">baseIsNaN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#baseFindIndex"><span class="toc-text">baseFindIndex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#baseIndexOf"><span class="toc-text">baseIndexOf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arrayIncludesWith"><span class="toc-text">arrayIncludesWith</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arrayIncludes"><span class="toc-text">arrayIncludes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cacheHas"><span class="toc-text">cacheHas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setToArray"><span class="toc-text">setToArray</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#createSet"><span class="toc-text">?createSet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#baseUniq"><span class="toc-text">baseUniq</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isIndex"><span class="toc-text">isIndex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getTag"><span class="toc-text">getTag</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isObjectLike"><span class="toc-text">isObjectLike</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isLength"><span class="toc-text">isLength</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isArrayLike"><span class="toc-text">isArrayLike</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isObjectLike-1"><span class="toc-text">isObjectLike</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stringToPath"><span class="toc-text">stringToPath</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#copyArray"><span class="toc-text">copyArray</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public"><span class="toc-text">public</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#times"><span class="toc-text">?times</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#debounce"><span class="toc-text">debounce</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#memoize"><span class="toc-text">memoize</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isArguments"><span class="toc-text">isArguments</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%B2%E5%AE%8C%E6%88%90"><span class="toc-text">å·²å®Œæˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-text">é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E7%9C%8B"><span class="toc-text">é‡çœ‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TODO"><span class="toc-text">TODO</span></a></li></ol></li></ol>
    
    <div class="picture-container">
      
    </div>
    <h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>Lodash æ˜¯ä¸€ä¸ªå·¥å…·åº“ã€‚å®ƒæœ‰å¯¹æ•°æ®æ›´ä¸¥æ ¼çš„å¤„ç†ï¼Œé˜…è¯»å®ƒåˆ©äºåŠ æ·±æˆ‘å¯¹ javascript çš„ç†è§£ï¼Œä½œä¸ºå¤§å‹å¼€æºé¡¹ç›®ï¼Œç¼–ç ä¹Ÿå¾ˆè§„èŒƒï¼Œé˜…è¯»å®ƒä¼šæé«˜æˆ‘çš„ç¼–ç æ°´å¹³ã€‚Lodash æœ€æ–°ï¼ˆ08/22/22ï¼‰ä¸»åˆ†æ”¯ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œæ¯ä¸ªå‡½æ•°æŒ‰æ¨¡å—å•ç‹¬åˆ†å¼€ï¼Œæ¯ä¸ªæ¨¡å—ä¸é•¿ï¼Œååˆ†åˆ©äºé˜…è¯»ã€‚</p>
<h2 id="internal"><a href="#internal" class="headerlink" title=".internal"></a>.internal</h2><h3 id="toKey"><a href="#toKey" class="headerlink" title="toKey"></a>toKey</h3><p>æŠŠå…¥å‚è½¬ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„é”®ã€‚<code>-0</code>é€šè¿‡â€Œâ€œ`${-0}`â€åä¼šå¾—åˆ°<code>0</code>ï¼Œå› æ­¤ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="string">`<span class="subst">$&#123;value&#125;</span>`</span></span><br><span class="line"><span class="keyword">return</span> (result == <span class="string">&#x27;0&#x27;</span> &amp;&amp; (<span class="number">1</span> / value) == -<span class="variable constant_">INFINITY</span>) ? <span class="string">&#x27;-0&#x27;</span> : result <span class="comment">// è´Ÿæ— ç©·å¤§çš„æ—¶å€™ç›´æ¥è¿”å› -0</span></span><br></pre></td></tr></table></figure>

<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p>Hash ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ __data__ï¼Œç»´æŠ¤ä¸€ä¸ªé•¿åº¦ sizeï¼ŒåŒ…å« 5 ä¸ªæ–¹æ³•ï¼Œ</p>
<ul>
<li>ç”¨äºæ¸…ç©ºçš„ clearï¼Œ</li>
<li>ç”¨äºåˆ é™¤çš„ deleteï¼Œ</li>
<li>ç”¨äºè·å–çš„ getï¼Œ</li>
<li>ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨çš„ hasï¼Œ</li>
<li>ç”¨äºæ·»åŠ æ•°æ®çš„ setï¼Œ</li>
</ul>
<p>Lodash ä¼šç”¨å¸¸é‡<code>__lodash_hash_undefined__</code>æ¥è¡¨ç¤ºè®¾ç½®æŸä¸ªé”®çš„å€¼ä¸º<code>undefined</code>ã€‚</p>
<h3 id="MapCache"><a href="#MapCache" class="headerlink" title="MapCache"></a>MapCache</h3><p>MapCache æ˜¯ä¸€ä¸ªåŒ…è£…ç±»å‹ï¼ŒåŒ…å«äº†ä¸‰ç±»æ•°æ®â€”â€”<code>string</code>ã€<code>hash</code>å’Œ<code>map</code>ï¼Œ</p>
<ul>
<li>å¦‚æœé”®æ˜¯ stringï¼Œç”¨ string ç±»å‹å­˜å‚¨ï¼Œ</li>
<li>å¦‚æœé”®æ˜¯ numberã€symbolã€booleanã€nullï¼Œç”¨ hash ç±»å‹å­˜å‚¨ï¼Œ</li>
<li>å…¶ä»–æƒ…å†µç”¨ map å­˜å‚¨ï¼Œ</li>
</ul>
<p>Hash ç±»å‹å°±æ˜¯<code>.internal/Hash</code>ã€‚</p>
<h3 id="SetCache"><a href="#SetCache" class="headerlink" title="SetCache"></a>SetCache</h3><p>Set æ˜¯ä¸€ç§æ•°æ®ç»“æ„ç±»å‹ï¼Œè¿™ç§ç±»å‹å­˜å‚¨å”¯ä¸€çš„å€¼ã€‚</p>
<p>åœ¨ Lodash çš„å®ç°ä¸­ï¼ŒSetCash æ˜¯ MapCache çš„ç‰¹æ®Šæƒ…å†µã€‚SetCache æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œ<code>add</code>å’Œ<code>has</code>ï¼Œè¦æ·»åŠ ä¸€ä¸ª set å€¼æ—¶ï¼ŒæŠŠè¿™ä¸ªå€¼å½“ä½œ MapCache çš„é”®ï¼Œå¹¶æŠŠè¿™ä¸ªé”®çš„å€¼è®¾ç½®ä¸º<code>__lodash_hash_undefined__</code>ã€‚</p>
<p>ç›¸å…³é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Set_(abstract_data_type)">Set (abstract data type)</a></p>
<h3 id="strictIndexOf"><a href="#strictIndexOf" class="headerlink" title="?strictIndexOf"></a>?strictIndexOf</h3><p>indexOf çš„ä¸¥æ ¼ç‰ˆæœ¬ï¼Œæ¯”è¾ƒçš„æ—¶å€™ä½¿ç”¨<code>===</code>ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = [1, undefined, null];</span><br><span class="line">a.indexOf(null); // 2ï¼ˆé¢„æœŸ 1ï¼‰</span><br><span class="line">a.indexOf(undefined); // 1</span><br></pre></td></tr></table></figure>

<h3 id="baseIsNaN"><a href="#baseIsNaN" class="headerlink" title="baseIsNaN"></a>baseIsNaN</h3><p>åˆ¤æ–­æ˜¯å¦æ˜¯<code>NaN</code>ï¼Œ<code>NaN !== NaN</code>ä¸º falseã€‚</p>
<h3 id="baseFindIndex"><a href="#baseFindIndex" class="headerlink" title="baseFindIndex"></a>baseFindIndex</h3><p>éå†æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œæ–­è¨€å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæˆåŠŸæ–­è¨€çš„è¿”å›æ•°ç»„ä¸‹æ ‡ã€‚</p>
<p>æœ‰ä¸€ä¸ªå‘å·¦å‘å³éå†çš„æŠ€å·§ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> index = fromIndex + (fromRight ? <span class="number">1</span> : -<span class="number">1</span>) <span class="comment">// å¦‚æœå‘å·¦ï¼Œæ¸¸æ ‡åŠ  1ï¼Œå¦‚æœå‘å³ï¼Œæ¸¸æ ‡å‡ 1</span></span><br><span class="line"><span class="keyword">while</span> ((fromRight ? index-- : ++index &lt; length)) &#123; <span class="comment">// è¿™é‡Œå‘å·¦çš„éƒ¨åˆ†ï¼Œâ€œ--â€åº”è¯¥æ”¾åœ¨åé¢ï¼Œè¿™æ ·æ‰èƒ½éå†åˆ° 0 çš„æƒ…å†µ</span></span><br><span class="line">  <span class="comment">// çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="baseIndexOf"><a href="#baseIndexOf" class="headerlink" title="baseIndexOf"></a>baseIndexOf</h3><p>Lodash å®ç°çš„ indexOfã€‚å…¶ä¸­åœ¨æ£€æŸ¥é NaN çš„æƒ…å†µä½¿ç”¨ strictIndexOfï¼Œåœ¨æ£€æŸ¥ NaN çš„æƒ…å†µä½¿ç”¨ baseFindIndexã€‚</p>
<p>è¿™é‡Œåœ¨é NaN çš„æƒ…å†µä¹Ÿå¯ä»¥ç”¨ baseFindIndexã€‚baseFindIndex æ¥æ”¶ä¸€ä¸ªæ–­è¨€å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ baseFindIndex è¢«è®¾è®¡çš„å¾ˆæŠ½è±¡ï¼Œå¯ä»¥å¦å¤–å®šä¹‰ä¸€ä¸ª<code>isEqualToValue</code>ï¼Œç„¶åæ”¾å…¥ baseFindIndex ä¸­ï¼Œå°±å¯ä»¥çœå»å¼•ç”¨ strictIndexOfã€‚ä½†è¿™åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆisEqualToValueï¼‰ä»£æ›¿å¦ä¸€ä¸ªå‡½æ•°ï¼ˆstrictIndexOfï¼‰çš„é—®é¢˜ï¼Œç›´æ¥ä½¿ç”¨ strictIndexOf åè€Œå¯è¯»æ€§æ›´å¥½ï¼Œä»£ä»·åªæ˜¯ç‰ºç‰²ä¸€ç‚¹ç»„åˆæŠ€å·§ã€‚</p>
<h3 id="arrayIncludesWith"><a href="#arrayIncludesWith" class="headerlink" title="arrayIncludesWith"></a>arrayIncludesWith</h3><p>å’Œ arrayIncludes ç±»ä¼¼ï¼ŒarrayIncludesWith å¼•å…¥äº†æ¯”è¾ƒå™¨ comparatorï¼Œç”¨æ¥æ¯”è¾ƒæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼ˆarrayItemï¼‰å’Œç›®æ ‡å€¼ï¼ˆtargetï¼‰ï¼Œâ€œcomparator(target) === arrayItemâ€ã€‚</p>
<h3 id="arrayIncludes"><a href="#arrayIncludes" class="headerlink" title="arrayIncludes"></a>arrayIncludes</h3><p>Array.prototype.x çš„ Lodash å®ç°ã€‚</p>
<h3 id="cacheHas"><a href="#cacheHas" class="headerlink" title="cacheHas"></a>cacheHas</h3><p>ç®€å•å°è£…<code>cache.has(key)</code>ã€‚</p>
<h3 id="setToArray"><a href="#setToArray" class="headerlink" title="setToArray"></a>setToArray</h3><p>Set è½¬ arrayã€‚å…¥å‚ setï¼ŒforEach å¾ªç¯ setï¼Œæ”¾å…¥ arrayã€‚</p>
<h3 id="createSet"><a href="#createSet" class="headerlink" title="?createSet"></a>?createSet</h3><p>åˆ›å»º setã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(Set &amp;&amp; (1 / setToArray(new Set([,-0]))[1]) == INFINITY) // ?</span><br><span class="line">  ? (values) =&gt; new Set(values)</span><br><span class="line">  : () =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="baseUniq"><a href="#baseUniq" class="headerlink" title="baseUniq"></a>baseUniq</h3><p>æ•°ç»„å»é‡çš„æ›´é«˜å±‚æŠ½è±¡ï¼Œå¦å¤–æœ‰ iteratee å’Œ comparator ä¸¤ä¸ªå…¥å‚ï¼Œåˆ†åˆ«ç”¨äºè®¡ç®—æ¯ä¸ªå…ƒç´ å’Œæ¯”è¾ƒæ¯ä¸ªå…ƒç´ ã€‚</p>
<p>baseUniq ä¸»è¦ç»´æŠ¤ä¸¤ä¸ªæ•°æ®ï¼Œseen å’Œ resultã€‚result æ˜¯æœ€ç»ˆå»é‡åçš„ç»“æœï¼›seen é‡Œå­˜æ”¾ iteratee è®¡ç®—åçš„ç»“æœï¼Œseen é‡Œçš„å…ƒç´ ä¹Ÿéƒ½æ˜¯å”¯ä¸€çš„ï¼Œåªä¸è¿‡æ˜¯ç»è¿‡äº†è®¡ç®—ã€‚</p>
<p>å‡½æ•° baseUniq åŒ…å«ä¸€äº›ä¼˜åŒ–å’ŒæŠ€å·§ï¼š</p>
<ul>
<li>ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œå¯¹é•¿åº¦å¤§äº 200 çš„æ•°ç»„ï¼Œæ›´æ¢å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼ˆLodash å®ç°çš„ Setï¼‰ï¼Œä¸ç”¨åƒæ•°ç»„åœ¨æŸ¥æ‰¾æŸä¸ªå…ƒç´ çš„æ—¶å€™éå†ï¼›</li>
<li>é€šè¿‡<code>value !== 0 ? value : 0</code>æ¥è®©<code>-0</code>å’Œ<code>+0</code>éƒ½è½¬æ¢ä¸º<code>0</code>ï¼›</li>
<li>é€šè¿‡<code>computed === computed</code>æ¥åˆ¤æ–­å€¼æ˜¯ä¸æ˜¯<code>NaN</code>ã€‚</li>
</ul>
<h3 id="isIndex"><a href="#isIndex" class="headerlink" title="isIndex"></a>isIndex</h3><p>Javascript çš„æ•°å­—å­˜å‚¨ä½¿ç”¨äº† IEEE 754 ä¸­è§„å®šçš„åŒç²¾åº¦æµ®ç‚¹æ•°æ•°æ®ç±»å‹ï¼Œè¿™ä¸€æ•°æ®ç±»å‹èƒ½å¤Ÿå®‰å…¨å­˜å‚¨ -(2^53 - 1) åˆ° 2^53 - 1 ä¹‹é—´çš„æ•°å€¼ï¼ˆåŒ…å«è¾¹ç•Œå€¼ï¼‰ã€‚è¶…è¿‡èŒƒå›´çš„è®¡ç®—ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€å¤§å®‰å…¨æ•´æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">MAX_SAFE_INTEGER</span> = <span class="number">9007199254740991</span></span><br></pre></td></tr></table></figure>

<hr>
<p><code>?:</code>è¡¨ç¤º<a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-groups#fei-bu-huo-zu">éæ•è·ç»„</a>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤§äºç­‰äº 0 çš„æ•´æ•°æ­£åˆ™</span></span><br><span class="line"><span class="keyword">const</span> reIsUint = <span class="regexp">/^(?:0|[1-9]\d*)$/</span></span><br></pre></td></tr></table></figure>

<p>éæ•è·ç»„çš„ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;Gogogo George!&quot;</span>;</span><br><span class="line"><span class="comment">// ?: ä»æ•è·ç»„ä¸­æ’é™¤ &#x27;go&#x27;</span></span><br><span class="line"><span class="keyword">let</span> regexp = <span class="regexp">/(?:go)+ (\w+)/i</span>;</span><br><span class="line"><span class="keyword">let</span> result = str.<span class="title function_">match</span>(regexp);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &#123;</span></span><br><span class="line"><span class="comment"> *   0: &quot;Gogogo George&quot;,</span></span><br><span class="line"><span class="comment"> *   1: &quot;George&quot;,</span></span><br><span class="line"><span class="comment"> *   groups: undefined,</span></span><br><span class="line"><span class="comment"> *   index: 0,</span></span><br><span class="line"><span class="comment"> *   input: &quot;Gogogo George!&quot;,</span></span><br><span class="line"><span class="comment"> *   length: 2,</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ®ç‚¹æ•°çš„ value ä¸èƒ½é€šè¿‡ value % 1 == 0</span></span><br><span class="line">(value &gt; -<span class="number">1</span> &amp;&amp; value % <span class="number">1</span> == <span class="number">0</span> &amp;&amp; value &lt; length)</span><br></pre></td></tr></table></figure>

<h3 id="getTag"><a href="#getTag" class="headerlink" title="getTag"></a>getTag</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toString = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTag</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value === <span class="literal">undefined</span> ? <span class="string">&#x27;[object Undefined]&#x27;</span> : <span class="string">&#x27;[object Null]&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> toString.<span class="title function_">call</span>(value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›¸å…³å†å²é—®é¢˜ï¼š</p>
<p>è¿™é‡Œçš„ <code>toString(null)</code>åŒæ ·å¯ä»¥å¾—åˆ°<code>[object Null]</code>ï¼Œä½†æ˜¯åœ¨ç¬¬ 4 è¡Œå•ç‹¬å¯¹ null çš„æƒ…å†µè¿”å›äº†ç¡¬ç¼–ç çš„å­—ç¬¦ä¸²<code>[object Null]</code>ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æ—§ç‰ˆæœ¬çš„ js ç¯å¢ƒï¼Œ<code>toString(null)</code>çš„ç»“æœæ˜¯[object Object]ã€‚</p>
<p>ç›¸å…³é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#real-world_usage">typeof-Real-world usage</a>â€”â€”åœ¨ mdn çš„ typeof æ–‡æ¡£é‡Œï¼Œæœ‰ä¸€æ¡æ³¨é‡Šè¯´æ˜äº†è€çš„ js ç¯å¢ƒçš„<code>toString(null)</code>çš„ç»“æœï¼Œâ€œEarly JS environments return â€˜[object Object]â€™ for null, so itâ€™s best to directly check for it.â€ã€‚</p>
<h3 id="isObjectLike"><a href="#isObjectLike" class="headerlink" title="isObjectLike"></a>isObjectLike</h3><p><code>typeof</code>æ˜¯<code>object</code>è€Œä¸”ä¸æ˜¯ null çš„æ—¶å€™ï¼Œå®šä¹‰è¿™ä¸ªå˜é‡æ˜¯ç±»å¯¹è±¡çš„ã€‚</p>
<p>å…³äºè¿™ä¸ªå‡½æ•°ä¸­åˆ¤æ–­çš„é¡ºåºï¼šå‡è®¾è¿”å›å€¼ä¸º falseï¼Œ<code>value !== null</code>æ”¾åœ¨å‰é¢ï¼Œvalue éœ€è¦å…¨ç­‰ null çš„æ—¶å€™æ‰èƒ½æ»¡è¶³ï¼Œè¿™æ ·çœå»äº†åé¢çš„<code>typeof value === &#39;object&#39;</code>åˆ¤è¯»ã€‚ä½†å¯ä»¥çŒœæµ‹å®é™…ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µçš„å…¥å‚ä¸ä¼šæ˜¯ nullï¼Œæ‰€ä»¥<code>value !== null</code>çš„åˆ¤æ–­æ”¾åœ¨äº†åé¢ã€‚</p>
<p>ç»“è®ºï¼šå¤šä¸ªæ¡ä»¶<code>&amp;&amp;</code>çš„æ—¶å€™ï¼Œå®¹æ˜“å¤±è´¥çš„æ”¾åœ¨å‰é¢ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isObjectLike</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;object&#x27;</span> &amp;&amp; value !== <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="isLength"><a href="#isLength" class="headerlink" title="isLength"></a>isLength</h3><p>åŸºäº ECMA çš„ <a target="_blank" rel="noopener" href="https://262.ecma-international.org/7.0/#sec-tolength">ToLength</a> å®ç°ã€‚</p>
<p>èŒƒå›´æ˜¯ 0 åˆ° 2^53 - 1ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">typeof value === &#x27;number&#x27; &amp;&amp;</span><br><span class="line">    value &gt; -1 &amp;&amp; value % 1 == 0 &amp;&amp; value &lt;= MAX_SAFE_INTEGER</span><br></pre></td></tr></table></figure>

<h3 id="isArrayLike"><a href="#isArrayLike" class="headerlink" title="isArrayLike"></a>isArrayLike</h3><p>ç±»æ•°ç»„ï¼Œä¸æ˜¯å‡½æ•°ç±»å‹ï¼Œæœ‰<code>length</code>å±æ€§ï¼ˆ0 åˆ° 2^53 - 1ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value != null &amp;&amp; typeof value !== &#x27;function&#x27; &amp;&amp; isLength(value.length)</span><br></pre></td></tr></table></figure>

<h3 id="isObjectLike-1"><a href="#isObjectLike-1" class="headerlink" title="isObjectLike"></a>isObjectLike</h3><p>ç±»å¯¹è±¡ï¼Œé null å¹¶ä¸”<code>typeof value === &#39;object&#39;</code>ã€‚</p>
<h3 id="stringToPath"><a href="#stringToPath" class="headerlink" title="stringToPath"></a>stringToPath</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[^.[\]]+|\[(?:([^&quot;&#x27;][^[]*)|([&quot;&#x27;])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rePropName = <span class="title class_">RegExp</span>(</span><br><span class="line">  <span class="comment">// Match anything that isn&#x27;t a dot or bracket.</span></span><br><span class="line">  <span class="string">&#x27;[^.[\\]]+&#x27;</span> + <span class="string">&#x27;|&#x27;</span> +</span><br><span class="line">  <span class="comment">// Or match property names within brackets.</span></span><br><span class="line">  <span class="string">&#x27;\\[(?:&#x27;</span> +</span><br><span class="line">    <span class="comment">// Match a non-string expression.</span></span><br><span class="line">    <span class="string">&#x27;([^&quot;\&#x27;][^[]*)&#x27;</span> + <span class="string">&#x27;|&#x27;</span> +</span><br><span class="line">    <span class="comment">// Or match strings (supports escaping characters).</span></span><br><span class="line">    <span class="string">&#x27;([&quot;\&#x27;])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2&#x27;</span> +</span><br><span class="line">  <span class="string">&#x27;)\\]&#x27;</span>+ <span class="string">&#x27;|&#x27;</span> +</span><br><span class="line">  <span class="comment">// Or match &quot;&quot; as the space between consecutive dots or empty brackets.</span></span><br><span class="line">  <span class="string">&#x27;(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))&#x27;</span></span><br><span class="line">  , <span class="string">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>ç›¸å…³é“¾æ¥ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-lookahead-lookbehind">å‰ç»æ–­è¨€å’Œåç»æ–­è¨€</a>;</li>
<li><a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-methods#strreplacestrregexpstrfunc">str.replace(str|regexp, str|func)</a></li>
</ul>
<h3 id="copyArray"><a href="#copyArray" class="headerlink" title="copyArray"></a>copyArray</h3><p>å‰æ‹·è´æ•°ç»„ã€‚<code>array || (array = new Array(length))</code>è¡¨ç¤ºæä¾›äº† array åˆ™ä¸åˆ›å»ºï¼Œå¦åˆ™åˆ›å»ºã€‚</p>
<h2 id="public"><a href="#public" class="headerlink" title="public"></a>public</h2><h3 id="times"><a href="#times" class="headerlink" title="?times"></a>?times</h3><p>ä¸¤ä¸ªå…¥å‚ï¼Œn å’Œ iterateeï¼Œtimes çš„ä½œç”¨æ˜¯è¿­ä»£ n æ¬¡ iterateeï¼Œå¹¶æŠŠæ¯æ¬¡è¿­ä»£çš„ç»“æœæ”¾å…¥ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</p>
<p>Times é™åˆ¶äº†æœ€å¤šå¾ªç¯ 9007199254740991ï¼ˆMAX_SAFE_INTEGERï¼‰ï¼Œæ•°ç»„æœ€é•¿é•¿åº¦ 4294967295ï¼ˆMAX_ARRAY_LENGTHï¼‰ã€‚å¦‚æœæ•°ç»„é•¿åº¦ç”¨å®Œäº†ï¼Œä»ç„¶è¿­ä»£å‰©ä½™çš„ iterateeã€‚</p>
<p>times çš„é—®é¢˜ï¼ˆä¸‹é¢ä»£ç å—çš„ç¬¬ä¸‰è¡Œå°†ä¸ä¼šæ‰§è¡Œï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="variable constant_">MAX_ARRAY_LENGTH</span></span><br><span class="line">n -= <span class="variable constant_">MAX_ARRAY_LENGTH</span> <span class="comment">// n = MAX_ARRAY_LENGTH + 1 çš„æ—¶å€™ï¼Œæ‰§è¡Œè¿™ä¸€è¡Œå n = 1</span></span><br><span class="line"><span class="keyword">while</span> (++index &lt; n) &#123; <span class="comment">// MAX_ARRAY_LENGTH + 1 &lt; 1 ğŸš« ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">	<span class="title function_">iteratee</span>(index)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a><a target="_blank" rel="noopener" href="https://github.com/lodash/lodash/blob/master/debounce.js">debounce</a></h3><p>ä¸ºäº†è§£é‡Šæ–¹ä¾¿ï¼Œåšä¸€äº›å®šä¹‰ï¼š</p>
<ul>
<li>fï¼Œè¢«è°ƒç”¨çš„å‡½æ•°ï¼Œå¸Œæœ›ä¸è¢«é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼›</li>
<li>debounceï¼Œé˜²æŠ–å‡½æ•°ï¼›</li>
<li>dfï¼Œé˜²æŠ–åŒ–å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ debounce(f, 600) çš„ç»“æœã€‚</li>
</ul>
<p>é€šå¸¸é˜²æŠ–çš„å®ç°ï¼š</p>
<ul>
<li>df æ¯ä¸€æ¬¡æ‰§è¡Œï¼Œæ¸…é™¤ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨ï¼Œç”Ÿæˆæ–°çš„å®šæ—¶å™¨ï¼Œè¿™æ ·å¯ä»¥ä¸€ç›´å‘åå»¶è¿Ÿï¼Œè®© f åœ¨æ¯ä¸¤æ¬¡æ—¶é—´é—´éš”å°äº 600ms çš„ä¸€ç³»åˆ—è°ƒç”¨ä¸­åªæ‰§è¡Œ 1 æ¬¡ï¼›</li>
<li>å‡å¦‚ç”¨æˆ·åœ¨ 600ms å†…è°ƒç”¨äº† 100 æ¬¡ dfï¼Œå°±è¿›è¡Œäº† 100 æ¬¡åˆ é™¤å¹¶åˆ›å»ºå®šæ—¶å™¨çš„æ“ä½œï¼Œå­˜åœ¨æ€§èƒ½ä»£ä»·ã€‚</li>
</ul>
<p>Lodash çš„é˜²æŠ–çš„å®ç°ä¸åŒï¼ŒLodash ä¸æ¸…é™¤å®šæ—¶å™¨ï¼Œå‡è®¾ç”¨æˆ·å·²ç»é¢‘ç¹è°ƒç”¨ df äº† 3000msï¼ŒLodash æœ€å¤šåªåˆ›å»º 5 æ¬¡å®šæ—¶å™¨ï¼Œæ‰€ä»¥é˜²æŠ–çš„æ€§èƒ½ç¨³å®šã€‚</p>
<img src="lodash-debounce.png" style="max-width:100%;" title="lodash debounce"/>

<p>è¿™å¼ å›¾çš„ä¸‰è§’å½¢è¡¨ç¤ºè°ƒç”¨ dfï¼Œæ­£æ–¹å½¢è¡¨ç¤ºé¢„æœŸæ‰§è¡Œ fï¼Œæœ€å³è¾¹çš„æ­£æ–¹å½¢çœŸæ­£æ‰§è¡Œäº† fã€‚</p>
<p>åˆ©ç”¨<code>requestAnimationFrame</code>ä»£æ›¿<code>setTimeout</code>ï¼Œåœ¨æ²¡æœ‰æŒ‡å®š<code>wait</code>å»¶è¿Ÿæ—¶é—´çš„æ—¶å€™ä¼˜åŒ–æ€§èƒ½ã€‚</p>
<p>ç›¸å…³é“¾æ¥ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ColaDaddyz/Blog/issues/8">èŠèŠlodashçš„debounceå®ç°</a></li>
</ul>
<h3 id="memoize"><a href="#memoize" class="headerlink" title="memoize"></a>memoize</h3><p>ç¼“å­˜å‡½æ•°çš„ç»“æœã€‚æä¾›äº†ç¬¬äºŒä¸ªå…¥å‚ï¼Œresolverï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> memoizedFunc = _.<span class="title function_">memoize</span>(func, resolver);</span><br><span class="line"><span class="title function_">memoizedFunc</span>(<span class="number">1</span>, <span class="number">9</span>, <span class="number">9</span>); <span class="comment">// è¿™é‡Œå°†ä¼šä½¿ç”¨ resolver(1, 9, 9) çš„å€¼ä½œä¸ºç¼“å­˜çš„ key</span></span><br></pre></td></tr></table></figure>

<p>ï¼Œä¸Šé¢çš„ memoizedFunc ä½¿ç”¨ resolver æ¥ç”Ÿæˆä½œä¸ºç¼“å­˜çš„é”®ï¼Œç”±ç”¨æˆ·å†³å®šï¼Œå¦åˆ™é»˜è®¤æƒ…å†µä¸‹å– memoizedFunc çš„ç¬¬ä¸€ä¸ªå…¥å‚ã€‚</p>
<p>å¯¹äºåˆ¤æ–­æ¡ä»¶<code>typeof func !== &#39;function&#39; || (resolver != null &amp;&amp; typeof resolver !== &#39;function&#39;)</code>ï¼Œ<code>||</code>åé¢çš„<code>resolver != null</code>èµ·åˆ°äº†æ€§èƒ½ä¼˜åŒ–çš„ä½œç”¨ï¼ˆè¿™é‡Œå‡è®¾æ‰§è¡Œâ€œresolver != nullâ€çš„ä»£ä»·æ¯”â€œtypeof resolver !== â€˜functionâ€™â€è¦å°ï¼‰ï¼Œå› ä¸ºé¢„æƒ³ä¸­çš„å¤§éƒ¨åˆ†è°ƒç”¨ memoize çš„æ—¶å€™ä¸æä¾› resolverã€‚</p>
<h3 id="isArguments"><a href="#isArguments" class="headerlink" title="isArguments"></a>isArguments</h3><p>å…¥å‚æ˜¯<code>arguments</code>ç±»å‹æ—¶ï¼Œæ˜¯å¯ä»¥åˆ¤æ–­çš„ï¼Œé€šè¿‡ typeof value === â€œ[object Arguments]â€ã€‚</p>
<h2 id="å·²å®Œæˆ"><a href="#å·²å®Œæˆ" class="headerlink" title="å·²å®Œæˆ"></a>å·²å®Œæˆ</h2><p>uniq, baseProperty, times, getTag, isSymbol, toKey, memoize, memoizeCapped, stringToPath, map, toPath, flip, delay</p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>p/isSymbolï¼š<code>value != null</code>çš„ä½œç”¨ï¼Ÿ</p>
<p>p/memoizeï¼šä¸ºä»€ä¹ˆæ˜¯<code>memoized.cache = cache.set(key, result) || cache</code>è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨<code>cache.set(key, result)</code>ï¼Ÿ</p>
<p>p/toPathï¼š<code>copyArray(stringToPath(value))</code>ä¸­çš„<code>stringToPath(value)</code>å·²ç»è¿”å›äº†æ–°æ•°ç»„ï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¥—ä¸€å±‚ copyArray æµ…æ‹·è´ä¸€éï¼Ÿ</p>
<h2 id="é‡çœ‹"><a href="#é‡çœ‹" class="headerlink" title="é‡çœ‹"></a>é‡çœ‹</h2><p>stringToPathï¼šåŒ¹é…å¯¹è±¡<code>.</code>å’Œ<code>[]</code>è¡¨ç¤ºçš„å±æ€§çš„æ­£åˆ™ã€‚</p>
<h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul>
<li>createSet</li>
</ul>


  </article>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <div class="busuanzi center">
    é¡µé˜…è¯»é‡:&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;ãƒ»&nbsp;
    ç«™è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"></span>&nbsp;ãƒ»&nbsp;
    ç«™è®¿å®¢æ•°:&nbsp;<span id="busuanzi_value_site_uv"></span>
  </div>


    





    </div>
  </div>
  <footer class="page-footer"><div class="clearfix">
</div>
<div class="right-foot">
    <div class="firstrow">
        <a href="#top" target="_self">
        <svg class="i-caret-right" viewBox="0 0 32 32" width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
            <path d="M10 30 L26 16 10 2 Z"></path>
        </svg>
        </a>
        Â© chen 2016-2021
    </div>
    <div class="secondrow">
        <a target="_blank" rel="noopener" href="https://www.poinotes.com/">
        Signal
        </a>
    </div>
</div>
<div class="clearfix">
</div>
</footer>
  <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="/js/search.min.js"></script>
<script type="text/javascript">

// disqus scripts


// dropdown scripts
$(".dropdown").click(function(event) {
  var current = $(this);
  event.stopPropagation();
  $(current).children(".dropdown-content")[($(current).children(".dropdown-content").hasClass("open"))?'removeClass':'addClass']("open")
});
$(document).click(function(){
    $(".dropdown-content").removeClass("open");
})

var path = "/search.xml";
searchFunc(path, 'local-search-input', 'local-search-result');

</script>

</body>
</html>
